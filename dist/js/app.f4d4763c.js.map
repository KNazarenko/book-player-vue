{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Page.vue?20f9","webpack:///./src/Covers.vue?9dbe","webpack:///./src/assets/images/background-shape.png","webpack:///./src/assets/images/preview_100_sm.png","webpack:///./src/App.vue?faec","webpack:///./src/BookPlayer.vue?0570","webpack:///./src/components/Book.vue?cc25","webpack:///./src/components/Page.vue?4a55","webpack:///./src/components/ProgressBar.vue?3cdb","webpack:///src/components/ProgressBar.vue","webpack:///./src/components/ProgressBar.vue?e99c","webpack:///./src/components/ProgressBar.vue","webpack:///src/components/Page.vue","webpack:///./src/components/Page.vue?5b6c","webpack:///./src/components/Page.vue","webpack:///src/components/Book.vue","webpack:///./src/components/Book.vue?4fa2","webpack:///./src/components/Book.vue","webpack:///./src/components/Arrow.vue?df48","webpack:///src/components/Arrow.vue","webpack:///./src/components/Arrow.vue?6751","webpack:///./src/components/Arrow.vue","webpack:///src/BookPlayer.vue","webpack:///./src/BookPlayer.vue?fab8","webpack:///./src/BookPlayer.vue","webpack:///./src/Covers.vue?fe89","webpack:///src/Covers.vue","webpack:///./src/Covers.vue?2ecd","webpack:///./src/Covers.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/images/preview_105_sm.png","webpack:///./src/components/Book.vue?c6e3","webpack:///./src/assets/images/preview_158_sm.png","webpack:///./src/components/ProgressBar.vue?f153","webpack:///./src/BookPlayer.vue?fee8","webpack:///./src/assets/images/right-empty.jpg","webpack:///./src/assets/images/left-empty.jpg","webpack:///./src/assets/images/leftPage.png","webpack:///./src/lib/turn_v3_npm/index.js","webpack:///./src/assets/images/rightPage.png","webpack:///./src/assets/images/preview_178_sm.png","webpack:///./src/components/Arrow.vue?b0cb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","keyId","attrs","currentBook","selector","_v","staticRenderFns","class","fullscreen","fullscreenMode","directives","rawName","expression","style","onPrevious","coverWidth","coverHeight","firstPage","lastPage","ref","restPages","onShowFullScreenBtn","onHideFullScreenBtn","_e","onNext","visible","showFullscreenBtn","on","toggleFullScreen","onShow","onHide","first","_m","_l","page","index","refInFor","last","isLaoded","percentage","width","props","component","components","type","String","required","Number","xhr","methods","onLoad","loadImage","url","Promise","XMLHttpRequest","open","imageUrl","responseType","send","onprogress","onload","blob","Blob","response","resolve","URL","createObjectURL","onerror","console","log","onabort","onAbort","abort","direction","click","backgroundRatio","percent","queue","loading","loaded","isFirstPage","isLastPage","bookWidth","bookHeight","arrowOriginalWidth","arrowWidth","isMobileMode","computed","bookOriginalWidth","pages","pageWidth","arrowShift","frontbackgroundStyles","height","display","styles","leftArrowStyles","right","coverPagesStyles","rightArrowStyles","bookShift","bookStyles","border","middlePagesStyles","boxShadow","coverStyles","transform","opacity","fullscreenBtnStyles","offFullscreenBtnStyles","container","book","arrow","initApp","pageHeight","$nextTick","readyCallback","turn","fullscreenElement","enterFullScreen","element","requestFullscreen","webkitRequestFullscreen","exitFullScreen","document","exitFullscreen","webkitExitFullscreen","createDoubleBook","when","turning","turningEventListener","turned","turnedEventListener","onResizeBook","ratio","pageOne","pageTwo","leftPage","leftPageImg","currentLeftPageUrl","dataset","src","isLoaded","abortLoading","currentPageUrls","rightPage","rightPageImg","currentRightPageUrl","onChangeQueue","downloadImage","find","allPagesRefs","currentLoading","nextDownloadPageRef","urls","concat","newQueue","nextDownloadPage","nextImgUrl","onDelete","isMobile","test","isTablet","created","$root","$on","mounted","addEventListener","$event","changeBook","$emit","city","allBooksData","id","setInfo","newCity","title","innerHTML","text","about","Vue","config","productionTip","bookPlayer","render","h","App","$mount","$children","has3d","$","require","vendor","PI","Math","A90","isTouch","events","start","move","end","corners","backward","forward","all","displays","turnOptions","gradients","duration","acceleration","flipOptions","folding","cornerSize","pagesInDOM","pagePosition","0","top","left","bottom","1","divAtt","zIndex","overf","position","bezier","p1","p2","p3","p4","mum1","mum13","mu3","point2D","round","x","y","deg","radians","translate","use3d","rotate","degrees","has","getPrefix","vendorPrefixes","len","body","toLowerCase","gradient","obj","p0","colors","numColors","cols","css","join","dx","dy","angle","atan2","angle2","diagonal","abs","sin","cos","gradientDiagonal","sqrt","corner","slope","tan","inverse","segA","pow","turnMethods","init","opts","undefined","ch","children","extend","pageObjs","pageWrap","pagePlace","pageMv","totalPages","e","flipMethods","_eventStart","_eventMove","_eventEnd","done","addPage","incPages","Error","_movePages","addClass","_addPage","_removeFromDOM","_necessPage","overflow","append","prepend","_setPageLoc","_makeFlip","remove","hasPage","single","even","flip","next","backGradient","frontGradient","disabled","_pressed","_released","_start","_end","_flip","_makeRange","range","remainingPages","tpage","view","_view","floor","min","max","_removePageFromDOM","dd","f","fwrapper","removePage","from","change","odd","removeClass","attr","currentDisplay","inArray","appendTo","size","animating","disable","bool","resize","_removeMv","_addMv","stop","ok","_moveFoldingPage","force","_fitPage","newView","trigger","_turnPage","current","parseInt","pop","previous","_addMotionPage","event","Event","stopPropagation","isDefaultPrevented","preventDefault","charAt","that","time","Date","getTime","point","calculateZ","mv","nextPage","placePage","dpage","currentPage","pageZ","partZ","pageV","addView","update","pos","pageLocation","_addPageWrapper","setData","options","z","parent","_cAllowed","_cornerActivated","originalEvent","touches","offset","pageX","pageY","csz","allowedCorners","tl","tr","bl","br","_c2","_foldingPage","_backGradient","bshadow","full","wrapper","fpage","ashadow","is","fparent","hide","flips","cursor","_fold","px","gradientEndPointA","gradientEndPointB","gradientStartV","gradientSize","gradientOpacity","a","alpha","df","ac","substr","compute","middle","rel","gamma","distance","beta","side","sideX","sideY","endingPoint","far","mvW","mvH","v","aliasingFk","backParent","_showFoldedPage","animate","animatef","to","frame","effect","show","hideFoldedPage","delta","np","complete","hiding","turnPage","elevation","moving","isTurning","origin","cla","args","toString","Array","fn","req","arguments","properties","clearInterval","handle","easing","b","diff","fps","setInterval"],"mappings":"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","file":"js/app.f4d4763c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=64c3d956&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=64c3d956&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Covers.vue?vue&type=style&index=0&id=16dceccc&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Covers.vue?vue&type=style&index=0&id=16dceccc&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/background-shape.20ad139c.png\";","module.exports = __webpack_public_path__ + \"img/preview_100_sm.21209b41.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fragment',[_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col-12 col-md-7\"},[_c('BookPlayer',{key:_vm.keyId,attrs:{\"bookData\":_vm.currentBook,\"rootSelector\":_vm.selector}})],1),_c('div',{staticClass:\"col-12 col-md-5 mt-3 mt-md-0\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title cardTitle\"},[_vm._v(\"Card title\")]),_c('p',{staticClass:\"card-text cardText\"},[_vm._v(\" Some quick example text. \")])])])]),_c('div',{staticClass:\"row mt-5\"},[_c('Covers')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bookContainer\",class:{ fullscreen: _vm.fullscreenMode }},[_c('Arrow',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.data.pages),expression:\"this.data.pages\"}],style:(_vm.leftArrowStyles),attrs:{\"direction\":'left',\"click\":_vm.onPrevious}}),_c('img',{staticClass:\"bookBackground\",style:(_vm.coverStyles),attrs:{\"src\":require(\"./assets/images/background-shape.png\"),\"width\":_vm.coverWidth,\"height\":_vm.coverHeight}}),_c('div',{staticClass:\"frontBackground\",style:(_vm.frontbackgroundStyles)}),(_vm.firstPage && _vm.lastPage)?_c('Book',{ref:\"bookComponent\",style:(_vm.bookStyles),attrs:{\"first\":_vm.firstPage,\"last\":_vm.lastPage,\"pages\":_vm.restPages,\"onShow\":_vm.onShowFullScreenBtn,\"onHide\":_vm.onHideFullScreenBtn}}):_vm._e(),_c('Arrow',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.data.pages),expression:\"this.data.pages\"}],style:(_vm.rightArrowStyles),attrs:{\"direction\":'right',\"click\":_vm.onNext}}),_c('div',{staticClass:\"fullScreenBtn\",class:{ visible: _vm.showFullscreenBtn },style:(_vm.fullscreenBtnStyles),on:{\"click\":_vm.toggleFullScreen}},[_vm._v(\" Fullscreen \")]),_c('div',{staticClass:\"offFullscreenBtn\",style:(_vm.offFullscreenBtnStyles)},[_c('div',{staticClass:\"quitBtn\",on:{\"click\":_vm.toggleFullScreen}},[_vm._v(\"Exit\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pages),expression:\"pages\"}],staticClass:\"book\",on:{\"mouseover\":_vm.onShow,\"mouseout\":_vm.onHide}},[_c('Page',{ref:_vm.first,staticClass:\"hard\",attrs:{\"page\":_vm.first}}),_vm._m(0),_vm._l((_vm.pages),function(page,index){return _c('Page',{key:index,ref:page,refInFor:true,attrs:{\"page\":page,\"index\":index}})}),_vm._m(1),_c('Page',{ref:_vm.last,staticClass:\"hard\",attrs:{\"page\":_vm.last}})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hard\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/left-empty.jpg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hard\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/right-empty.jpg\")}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",attrs:{\"data-src\":_vm.page}},[_c('img',{staticClass:\"image-container\"}),(_vm.index && _vm.index % 2)?_c('img',{attrs:{\"src\":require(\"../assets/images/leftPage.png\")}}):(_vm.index)?_c('img',{attrs:{\"src\":require(\"../assets/images/rightPage.png\")}}):_vm._e(),_c('ProgressBar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLaoded),expression:\"!isLaoded\"}],attrs:{\"percentage\":_vm.percentage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"loading-bar\"},[_c('div',{staticClass:\"percentage\",style:({ width: _vm.percentage + '%' })})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"progress-bar\">\r\n    <div class=\"loading-bar\">\r\n      <div class=\"percentage\" :style=\"{ width: percentage + '%' }\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ProgressBar\",\r\n  props: [\"percentage\"]\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bookContainer {\r\n  .progress-bar {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: white;\r\n  }\r\n\r\n  .loading-bar {\r\n    position: absolute;\r\n    width: 80%;\r\n    height: 4%;\r\n    border-radius: 3% / 50%;\r\n    overflow: hidden;\r\n    background-color: #f5f5f5;\r\n    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\r\n\r\n    .percentage {\r\n      position: absolute;\r\n      height: 100%;\r\n      background-color: #d94f70;\r\n      border-radius: 3% / 50%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgressBar.vue?vue&type=template&id=029737b4&scoped=true&\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProgressBar.vue?vue&type=style&index=0&id=029737b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"029737b4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"page\" :data-src=\"page\">\r\n    <img class=\"image-container\" />\r\n    <img src=\"../assets/images/leftPage.png\" v-if=\"index && index % 2\" />\r\n\r\n    <img src=\"../assets/images/rightPage.png\" v-else-if=\"index\" />\r\n\r\n    <ProgressBar :percentage=\"percentage\" v-show=\"!isLaoded\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProgressBar from \"./ProgressBar\";\r\n\r\nexport default {\r\n  name: \"Page\",\r\n\r\n  components: { ProgressBar },\r\n\r\n  props: {\r\n    page: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      percentage: 0,\r\n      isLaoded: false,\r\n      xhr: null\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onLoad() {\r\n      let url = this.page;\r\n      let imgContainer = document\r\n        .querySelector(`[data-src=\"${this.page}\"]`)\r\n        .querySelector(\".image-container\");\r\n\r\n      this.loadImage(url)\r\n        .then(imgSrc => {\r\n          imgContainer.src = imgSrc;\r\n        })\r\n        .catch(error => console.log(error));\r\n    },\r\n\r\n    loadImage(imageUrl) {\r\n      return new Promise(resolve => {\r\n        var xhr = new XMLHttpRequest();\r\n\r\n        xhr.open(\"GET\", imageUrl, true);\r\n\r\n        xhr.responseType = \"arraybuffer\";\r\n\r\n        xhr.send();\r\n\r\n        this.xhr = xhr;\r\n\r\n        xhr.onprogress = e => {\r\n          this.percentage = parseInt((e.loaded / e.total) * 100);\r\n        };\r\n\r\n        xhr.onload = () => {\r\n          this.percentage = 100;\r\n\r\n          var blob = new Blob([xhr.response]);\r\n\r\n          resolve(window.URL.createObjectURL(blob));\r\n\r\n          // if (this.index || this.index == 0)\r\n          //   console.log(\"Page \", this.index + 3, \" is loaded!\");\r\n          // else console.log(\"Page first/last is loaded!\");\r\n\r\n          this.isLaoded = true;\r\n\r\n          this.$root.$emit(\"page-loaded\", this.page);\r\n        };\r\n\r\n        xhr.onerror = e => {\r\n          console.log(\"Page \", this.page, \" is faild!\", e);\r\n        };\r\n\r\n        xhr.onabort = () => {\r\n          if (this.index || this.index == 0) {\r\n            // console.log(\"Page \", this.index + 3, \" is aborted!\", this.page);\r\n          } else console.log(\"Page first/last is aborted!\");\r\n\r\n          this.$root.$emit(\"page-aborted\", this.page);\r\n        };\r\n      });\r\n    },\r\n\r\n    onAbort() {\r\n      this.xhr.abort();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bookContainer {\r\n  .page {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    img {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=64c3d956&scoped=true&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=64c3d956&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64c3d956\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"book\" @mouseover=\"onShow\" @mouseout=\"onHide\" v-show=\"pages\">\r\n    <Page class=\"hard\" :ref=\"first\" :page=\"first\" />\r\n\r\n    <div class=\"hard\">\r\n      <img src=\"../assets/images/left-empty.jpg\" />\r\n    </div>\r\n\r\n    <Page v-for=\"(page, index) in pages\" :key=\"index\" :page=\"page\" :index=\"index\" :ref=\"page\" />\r\n\r\n    <div class=\"hard\">\r\n      <img src=\"../assets/images/right-empty.jpg\" />\r\n    </div>\r\n\r\n    <Page class=\"hard\" :ref=\"last\" :page=\"last\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Page from \"./Page\";\r\n\r\nexport default {\r\n  name: \"Book\",\r\n  components: { Page },\r\n  props: [\"pages\", \"first\", \"last\", \"onShow\", \"onHide\"]\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bookContainer {\r\n  .book {\r\n    display: none;\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: transform 0.2s ease-in-out;\r\n  }\r\n\r\n  .hard {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    img {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Book.vue?vue&type=template&id=c466891a&scoped=true&\"\nimport script from \"./Book.vue?vue&type=script&lang=js&\"\nexport * from \"./Book.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Book.vue?vue&type=style&index=0&id=c466891a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c466891a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"icon\",class:[_vm.direction =='right' ? 'rightArrow' : 'leftArrow'],attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"viewBox\":\"0 0 91.5 183\",\"xml:space\":\"preserve\"},on:{\"click\":_vm.click}},[(_vm.direction == 'right')?_c('path',{staticClass:\"st0\",attrs:{\"d\":\"M0,183c50.5,0,91.5-41,91.5-91.5S50.5,0,0,0\"}}):_vm._e(),(_vm.direction == 'left')?_c('path',{staticClass:\"st0\",attrs:{\"d\":\"M91.5,183C41,183,0,142,0,91.5C0,41,41,0,91.5,0\"}}):_vm._e(),(_vm.direction == 'right')?_c('path',{staticClass:\"st1\",attrs:{\"d\":\"M27.5,58l27.9,27.9c1.7,1.7,1.7,4.5,0,6.2L27.5,120\"}}):_vm._e(),(_vm.direction == 'left')?_c('path',{staticClass:\"st1\",attrs:{\"d\":\"M64,58L36.1,85.9c-1.7,1.7-1.7,4.5,0,6.2L64,120\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <svg\r\n    class=\"icon\"\r\n    :class=\"[direction =='right' ? 'rightArrow' : 'leftArrow']\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    version=\"1.1\"\r\n    viewBox=\"0 0 91.5 183\"\r\n    xml:space=\"preserve\"\r\n    v-on:click=\"click\"\r\n  >\r\n    <path class=\"st0\" d=\"M0,183c50.5,0,91.5-41,91.5-91.5S50.5,0,0,0\" v-if=\"direction == 'right'\" />\r\n\r\n    <path\r\n      class=\"st0\"\r\n      d=\"M91.5,183C41,183,0,142,0,91.5C0,41,41,0,91.5,0\"\r\n      v-if=\"direction == 'left'\"\r\n    />\r\n\r\n    <path\r\n      class=\"st1\"\r\n      d=\"M27.5,58l27.9,27.9c1.7,1.7,1.7,4.5,0,6.2L27.5,120\"\r\n      v-if=\"direction == 'right'\"\r\n    />\r\n    <path\r\n      class=\"st1\"\r\n      d=\"M64,58L36.1,85.9c-1.7,1.7-1.7,4.5,0,6.2L64,120\"\r\n      v-if=\"direction == 'left'\"\r\n    />\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Arrow\",\r\n  props: [\"click\", \"direction\"]\r\n};\r\n</script>\r\n\r\n<style  lang=\"scss\" scoped>\r\n.bookContainer {\r\n  .icon {\r\n    z-index: 9999;\r\n    display: block;\r\n    position: relative;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    -webkit-transition: transform 0.2s ease-in-out;\r\n    -moz-transition: transform 0.2s ease-in-out;\r\n    -o-transition: transform 0.2s ease-in-out;\r\n    -ms-transition: transform 0.2s ease-in-out;\r\n    transition: transform 0.2s ease-in-out;\r\n\r\n    .st0 {\r\n      fill: #c1c1c1;\r\n      transition: all 0.25s;\r\n    }\r\n\r\n    .st1 {\r\n      fill: none;\r\n      stroke: #fff;\r\n      stroke-width: 5;\r\n      stroke-linecap: round;\r\n      stroke-linejoin: round;\r\n      stroke-miterlimit: 10;\r\n    }\r\n\r\n    &:hover {\r\n      .st0 {\r\n        fill: #575756;\r\n      }\r\n    }\r\n  }\r\n\r\n  &.fullscreen {\r\n    .icon {\r\n      .st0 {\r\n        fill: #494949;\r\n      }\r\n\r\n      &:hover {\r\n        .st0 {\r\n          fill: #545454;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Arrow.vue?vue&type=template&id=018f8ff4&scoped=true&\"\nimport script from \"./Arrow.vue?vue&type=script&lang=js&\"\nexport * from \"./Arrow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Arrow.vue?vue&type=style&index=0&id=018f8ff4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"018f8ff4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"bookContainer\" :class=\"{ fullscreen: fullscreenMode }\">\r\n    <Arrow\r\n      :direction=\"'left'\"\r\n      :click=\"onPrevious\"\r\n      :style=\"leftArrowStyles\"\r\n      v-show=\"this.data.pages\"\r\n    />\r\n\r\n    <img\r\n      class=\"bookBackground\"\r\n      src=\"./assets/images/background-shape.png\"\r\n      :width=\"coverWidth\"\r\n      :height=\"coverHeight\"\r\n      :style=\"coverStyles\"\r\n    />\r\n\r\n    <div class=\"frontBackground\" :style=\"frontbackgroundStyles\"></div>\r\n\r\n    <Book\r\n      v-if=\"firstPage && lastPage\"\r\n      :first=\"firstPage\"\r\n      :last=\"lastPage\"\r\n      :pages=\"restPages\"\r\n      :onShow=\"onShowFullScreenBtn\"\r\n      :onHide=\"onHideFullScreenBtn\"\r\n      :style=\"bookStyles\"\r\n      ref=\"bookComponent\"\r\n    />\r\n\r\n    <Arrow\r\n      :direction=\"'right'\"\r\n      :click=\"onNext\"\r\n      :style=\"rightArrowStyles\"\r\n      v-show=\"this.data.pages\"\r\n    />\r\n\r\n    <div\r\n      class=\"fullScreenBtn\"\r\n      :class=\"{ visible: showFullscreenBtn }\"\r\n      :style=\"fullscreenBtnStyles\"\r\n      @click=\"toggleFullScreen\"\r\n    >\r\n      Fullscreen\r\n    </div>\r\n\r\n    <div class=\"offFullscreenBtn\" :style=\"offFullscreenBtnStyles\">\r\n      <div class=\"quitBtn\" @click=\"toggleFullScreen\">Exit</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n`\r\n<script>\r\nimport $ from \"jquery\";\r\n// import \"turn.js\";\r\nrequire(\"./lib/turn_v3_npm/index\");\r\nimport Book from \"./components/Book\";\r\nimport Arrow from \"./components/Arrow\";\r\n\r\nexport default {\r\n  name: \"BookPlayer\",\r\n\r\n  components: { Book, Arrow },\r\n\r\n  props: [\"bookData\", \"rootSelector\"],\r\n\r\n  data() {\r\n    return {\r\n      selector: null,\r\n      backgroundRatio: 1.044,\r\n      percent: 0.95,\r\n\r\n      data: {},\r\n      queue: [],\r\n      loading: null,\r\n      loaded: [],\r\n\r\n      showFullscreenBtn: false,\r\n\r\n      isFirstPage: false,\r\n      isLastPage: false,\r\n\r\n      bookWidth: null,\r\n      bookHeight: null,\r\n\r\n      fullscreenMode: false,\r\n      arrowOriginalWidth: 50,\r\n      arrowWidth: 50,\r\n\r\n      isMobileMode: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    bookOriginalWidth() {\r\n      if (this.data.pages) return this.data.pageWidth * 2;\r\n      else return null;\r\n    },\r\n\r\n    firstPage() {\r\n      if (this.data.pages) return this.data.pages[0];\r\n      else return null;\r\n    },\r\n\r\n    lastPage() {\r\n      if (this.data.pages) return this.data.pages[this.data.pages.length - 1];\r\n      else return null;\r\n    },\r\n\r\n    restPages() {\r\n      if (this.data.pages) return this.data.pages.slice(1, -1);\r\n      else return null;\r\n    },\r\n\r\n    coverWidth() {\r\n      return this.bookWidth * this.backgroundRatio;\r\n    },\r\n\r\n    coverHeight() {\r\n      return this.bookHeight * this.backgroundRatio;\r\n    },\r\n\r\n    arrowShift() {\r\n      let shift = (this.coverWidth - this.bookWidth) / 2;\r\n      return shift + \"px\";\r\n    },\r\n\r\n    frontbackgroundStyles() {\r\n      let styles = {\r\n        width: this.bookWidth / 2 + \"px\",\r\n        height: this.bookHeight + \"px\",\r\n        display: this.isFirstPage || this.isLastPage ? \"block\" : \"none\",\r\n      };\r\n\r\n      return styles;\r\n    },\r\n\r\n    leftArrowStyles() {\r\n      let arrowWidth = this.arrowWidth + \"px\";\r\n\r\n      let middlePagesStyles = {\r\n        width: arrowWidth,\r\n        right: this.arrowShift,\r\n      };\r\n      let coverPagesStyles = { width: arrowWidth };\r\n\r\n      if (this.isLastPage) {\r\n        coverPagesStyles = { ...coverPagesStyles, left: this.bookShift };\r\n      } else {\r\n        coverPagesStyles = { ...coverPagesStyles, display: \"none\" };\r\n      }\r\n\r\n      return this.isFirstPage || this.isLastPage\r\n        ? coverPagesStyles\r\n        : middlePagesStyles;\r\n    },\r\n\r\n    rightArrowStyles() {\r\n      let arrowWidth = this.arrowWidth + \"px\";\r\n\r\n      let middlePagesStyles = { width: arrowWidth, left: this.arrowShift };\r\n      let coverPagesStyles = { width: arrowWidth };\r\n\r\n      if (this.isFirstPage) {\r\n        coverPagesStyles = { ...coverPagesStyles, right: this.bookShift };\r\n      } else {\r\n        coverPagesStyles = { ...coverPagesStyles, display: \"none\" };\r\n      }\r\n\r\n      return this.isFirstPage || this.isLastPage\r\n        ? coverPagesStyles\r\n        : middlePagesStyles;\r\n    },\r\n\r\n    bookShift() {\r\n      let shift = this.bookWidth / 4 - this.arrowWidth / 2;\r\n\r\n      return shift + \"px\";\r\n    },\r\n\r\n    bookStyles() {\r\n      let middlePagesStyles = {\r\n        border: \"solid 1px rgba(0, 0, 0, 0.05)\",\r\n      };\r\n      let coverPagesStyles = {};\r\n\r\n      if (this.isFirstPage) {\r\n        coverPagesStyles = { transform: `translate(-${this.bookShift})` };\r\n      } else if (this.isLastPage) {\r\n        coverPagesStyles = { transform: `translate(${this.bookShift})` };\r\n      }\r\n\r\n      if (!this.fullscreenMode) {\r\n        middlePagesStyles = {\r\n          ...middlePagesStyles,\r\n          boxShadow: \"rgb(179, 178, 178) 1px 4px 6px 0px\",\r\n        };\r\n      }\r\n\r\n      return this.isFirstPage || this.isLastPage\r\n        ? coverPagesStyles\r\n        : middlePagesStyles;\r\n    },\r\n\r\n    coverStyles() {\r\n      let middlePagesStyles = { opacity: 1 };\r\n      let coverPagesStyles = {};\r\n\r\n      if (this.isFirstPage) {\r\n        coverPagesStyles = {\r\n          transform: `translate(-${this.bookShift})`,\r\n          opacity: 0,\r\n        };\r\n      } else {\r\n        coverPagesStyles = {\r\n          transform: `translate(${this.bookShift})`,\r\n          opacity: 0,\r\n        };\r\n      }\r\n\r\n      return this.isFirstPage || this.isLastPage\r\n        ? coverPagesStyles\r\n        : middlePagesStyles;\r\n    },\r\n\r\n    fullscreenBtnStyles() {\r\n      return this.isMobileMode\r\n        ? { display: \"none\" }\r\n        : { display: !this.fullscreenMode ? \"block\" : \"none\" };\r\n    },\r\n\r\n    offFullscreenBtnStyles() {\r\n      return this.isMobileMode\r\n        ? { display: \"none\" }\r\n        : { display: this.fullscreenMode ? \"block\" : \"none\" };\r\n    },\r\n\r\n    container() {\r\n      return $(`${this.selector}`);\r\n    },\r\n\r\n    book() {\r\n      return $(\".book\");\r\n    },\r\n\r\n    arrow() {\r\n      return $(\".icon\");\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    initApp(data, selector, readyCallback) {\r\n      this.selector = selector;\r\n\r\n      this.data = data;\r\n\r\n      this.bookWidth = data.pageWidth;\r\n      this.bookHeight = data.pageHeight;\r\n\r\n      this.queue = data.pages;\r\n\r\n      this.$nextTick(() => {\r\n        this.createDoubleBook();\r\n\r\n        if (this.isMobile() || this.isTablet()) this.isMobileMode = true;\r\n\r\n        this.onResizeBook();\r\n      });\r\n\r\n      if (readyCallback) readyCallback();\r\n    },\r\n\r\n    onPrevious() {\r\n      this.book.turn(\"previous\");\r\n    },\r\n\r\n    onNext() {\r\n      this.book.turn(\"next\");\r\n    },\r\n\r\n    onShowFullScreenBtn() {\r\n      this.showFullscreenBtn = true;\r\n    },\r\n\r\n    onHideFullScreenBtn() {\r\n      this.showFullscreenBtn = false;\r\n    },\r\n\r\n    // --------------------------- FULL SCREEN  --------------------------- //\r\n\r\n    toggleFullScreen() {\r\n      let fullscreenElement =\r\n        document.fullscreenElement || document.webkitFullscreenElement;\r\n\r\n      if (!fullscreenElement) this.enterFullScreen();\r\n      else this.exitFullScreen();\r\n    },\r\n\r\n    enterFullScreen() {\r\n      let element = this.container[0];\r\n\r\n      if (element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n        this.fullscreenMode = true;\r\n      } else if (element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n        this.fullscreenMode = true;\r\n      }\r\n    },\r\n\r\n    exitFullScreen() {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n        this.fullscreenMode = false;\r\n      } else if (document.webkitExitFullscreen) {\r\n        document.webkitExitFullscreen();\r\n        this.fullscreenMode = false;\r\n      }\r\n    },\r\n\r\n    // --------------------------- CREATE BOOK --------------------------- //\r\n\r\n    createDoubleBook() {\r\n      $(\".book\").turn({\r\n        width: this.bookOriginalWidth,\r\n        height: this.data.pageHeight,\r\n        display: \"double\",\r\n        when: {\r\n          turning: this.turningEventListener.bind(this),\r\n          turned: this.turnedEventListener.bind(this),\r\n        },\r\n      });\r\n    },\r\n\r\n    // --------------------------- RESIZE -------------------------------- //\r\n\r\n    onResizeBook() {\r\n      if (!this.container[0]) return;\r\n\r\n      let ratio;\r\n\r\n      let bookWidth = this.bookOriginalWidth;\r\n      let bookHeight = this.data.pageHeight;\r\n      let arrowWidth = this.arrowOriginalWidth;\r\n\r\n      let containerWidth = this.container[0].clientWidth;\r\n\r\n      let bookContainerWidth = bookWidth + arrowWidth * 2;\r\n\r\n      ratio = (containerWidth * this.percent) / bookContainerWidth;\r\n\r\n      this.book.turn(\"size\", bookWidth * ratio, bookHeight * ratio);\r\n\r\n      this.bookWidth = bookWidth * ratio;\r\n      this.bookHeight = bookHeight * ratio;\r\n      this.arrowWidth = arrowWidth * ratio;\r\n    },\r\n\r\n    // --------------------------- TURN EVENT --------------------------- //\r\n\r\n    turningEventListener(event, page) {\r\n      // To shift the book more smoothly\r\n      if (page == 1) {\r\n        this.isFirstPage = true;\r\n      } else if (page == this.restPages.length + 4) {\r\n        this.isLastPage = true;\r\n      } else {\r\n        this.isFirstPage = false;\r\n        this.isLastPage = false;\r\n      }\r\n    },\r\n\r\n    turnedEventListener(event, page) {\r\n      // 0. Check or queue is not empty\r\n      if (!this.queue.length) return;\r\n\r\n      let currentPageUrls = [];\r\n\r\n      let currentLeftPageUrl;\r\n      let currentRightPageUrl;\r\n\r\n      let pageOne;\r\n      let pageTwo;\r\n\r\n      // To move the book forward and backward\r\n      if (page % 2 == 0) {\r\n        pageOne = page;\r\n        pageTwo = page + 1;\r\n        // console.log(`Even Page ${pageOne}, ${pageTwo}`);\r\n      } else {\r\n        pageOne = page - 1;\r\n        pageTwo = page;\r\n        // console.log(`Odd Page: ${pageTwo}, ${pageOne}`);\r\n      }\r\n\r\n      let leftPage = event.target.querySelector(`[page=\"${pageOne}\"]`);\r\n      if (leftPage) {\r\n        let leftPageImg = leftPage.querySelector(`[data-src]`);\r\n        if (leftPageImg) currentLeftPageUrl = leftPageImg.dataset.src;\r\n      }\r\n\r\n      // 1. If this is not the second or penultimate page, and if this page is not loaded, then\r\n      // 2. We stop the active download, if there is one,\r\n      // 3. And add the page to the spread download array\r\n      if (currentLeftPageUrl && !this.isLoaded(currentLeftPageUrl)) {\r\n        if (this.loading) this.abortLoading();\r\n\r\n        currentPageUrls.push(currentLeftPageUrl);\r\n      }\r\n\r\n      let rightPage = event.target.querySelector(`[page=\"${pageTwo}\"]`);\r\n      if (rightPage) {\r\n        let rightPageImg = rightPage.querySelector(`[data-src]`);\r\n        if (rightPageImg) currentRightPageUrl = rightPageImg.dataset.src;\r\n      }\r\n\r\n      if (currentRightPageUrl && !this.isLoaded(currentRightPageUrl)) {\r\n        if (this.loading) this.abortLoading();\r\n\r\n        currentPageUrls.push(currentRightPageUrl);\r\n      }\r\n\r\n      // 4. If there is something to download at the current spread, then at the beginning of the download queue we place the pages of the current spread.\r\n      // 5. And call loading\r\n      if (currentPageUrls.length) {\r\n        this.onChangeQueue(currentPageUrls);\r\n\r\n        this.downloadImage();\r\n      } else {\r\n        if (this.loading) this.abortLoading();\r\n\r\n        this.downloadImage();\r\n      }\r\n    },\r\n\r\n    isLoaded(url) {\r\n      return this.loaded.find((item) => item == url);\r\n    },\r\n\r\n    abortLoading() {\r\n      let currentLoading = this.loading;\r\n\r\n      // References of all pages\r\n      let allPagesRefs = this.$refs.bookComponent.$refs;\r\n      // Reference of the next page in the download queue\r\n      let nextDownloadPageRef;\r\n\r\n      // Find the next page to download the picture\r\n      for (let key in allPagesRefs) {\r\n        // Because part of the refs are objects, and part are arrays\r\n        if (allPagesRefs[key].length) {\r\n          if (allPagesRefs[key][0].page == currentLoading) {\r\n            nextDownloadPageRef = allPagesRefs[key];\r\n            break;\r\n          }\r\n        } else {\r\n          if (allPagesRefs[key].page == currentLoading) {\r\n            nextDownloadPageRef = allPagesRefs[key];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 4. Download the next image\r\n      if (nextDownloadPageRef) {\r\n        if (nextDownloadPageRef.length) {\r\n          nextDownloadPageRef[0].onAbort();\r\n        } else {\r\n          nextDownloadPageRef.onAbort();\r\n        }\r\n      }\r\n    },\r\n\r\n    onChangeQueue(urls) {\r\n      let newQueue = this.queue.filter(\r\n        (item) => item != urls[0] && item != urls[1]\r\n      );\r\n\r\n      this.queue = urls.concat(newQueue);\r\n    },\r\n\r\n    downloadImage() {\r\n      // 1. Take next url\r\n      let nextImgUrl = this.queue[0];\r\n\r\n      // 2. Check or next page for download is available\r\n      let nextDownloadPage = this.book[0].querySelector(\r\n        `[data-src=\"${nextImgUrl}\"]`\r\n      );\r\n      if (!nextDownloadPage) return;\r\n\r\n      // References of all pages\r\n      let allPagesRefs = this.$refs.bookComponent.$refs;\r\n      // Reference of the next page in the download queue\r\n      let nextDownloadPageRef;\r\n\r\n      // 3. Find the next page to download the picture\r\n      for (let key in allPagesRefs) {\r\n        // Because part of the refs are objects, and part are arrays\r\n        if (allPagesRefs[key].length) {\r\n          if (allPagesRefs[key][0].page == nextImgUrl) {\r\n            nextDownloadPageRef = allPagesRefs[key];\r\n            break;\r\n          }\r\n        } else {\r\n          if (allPagesRefs[key].page == nextImgUrl) {\r\n            nextDownloadPageRef = allPagesRefs[key];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 4. Download the next image\r\n      if (nextDownloadPageRef) {\r\n        if (nextDownloadPageRef.length) {\r\n          this.loading = nextImgUrl;\r\n\r\n          nextDownloadPageRef[0].onLoad();\r\n        } else {\r\n          this.loading = nextImgUrl;\r\n\r\n          nextDownloadPageRef.onLoad();\r\n        }\r\n      }\r\n    },\r\n\r\n    onDelete(url) {\r\n      // Remove from download queue\r\n      let newQueue = this.queue.filter((item) => item != url);\r\n      this.queue = newQueue;\r\n\r\n      // Remove from current downloads list\r\n      this.loading = null;\r\n    },\r\n\r\n    // --------------------------- IS MOBILE -------------------------------- //\r\n\r\n    isMobile() {\r\n      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      );\r\n    },\r\n\r\n    isTablet() {\r\n      return /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(\r\n        navigator.userAgent.toLowerCase()\r\n      );\r\n    },\r\n  },\r\n\r\n  created: function() {\r\n    this.$root.$on(\"page-loaded\", (url) => {\r\n      // 0. Add downloaded img to loaded list\r\n      this.loaded.push(url);\r\n      // 1. Delete downloaded img from the queue and from the current loading\r\n      this.onDelete(url);\r\n      // 2. Check or queue is not empty\r\n      if (!this.queue.length) return;\r\n      // 3. Download next image\r\n      this.downloadImage();\r\n    });\r\n\r\n    this.$root.$on(\"page-aborted\", () => {\r\n      this.loading = null;\r\n    });\r\n  },\r\n\r\n  mounted: function() {\r\n    this.$nextTick(() => {\r\n      if (this.bookData) this.initApp(this.bookData, this.rootSelector);\r\n    });\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      // console.log(\"resize\");\r\n      let fullscreenElement =\r\n        document.fullscreenElement || document.webkitFullscreenElement;\r\n\r\n      // For exit fullscreen mode with ESC button\r\n      if (!fullscreenElement) this.fullscreenMode = false;\r\n\r\n      this.onResizeBook();\r\n    });\r\n\r\n    // For mobile fullscreen mode\r\n    document.addEventListener(\"fullscreenchange\", () => {\r\n      if (this.isMobile() || this.isTablet()) {\r\n        console.log(\"onfullscreenchange\");\r\n        this.onResizeBook();\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bookContainer {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  position: relative;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  &:-webkit-full-screen {\r\n    background-color: #000;\r\n  }\r\n\r\n  .bookBackground {\r\n    position: absolute;\r\n    opacity: 0;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n\r\n  .slice {\r\n    position: absolute;\r\n    opacity: 0;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n\r\n  .frontBackground {\r\n    position: absolute;\r\n    box-shadow: 2px 2px 5px 0 #656565;\r\n  }\r\n\r\n  .fullScreenBtn {\r\n    min-width: 150px;\r\n    font-size: 16px;\r\n    border: solid 0px;\r\n    background-color: rgba(18, 18, 18, 0.3);\r\n    border-radius: 20px;\r\n    color: #fefefe;\r\n    cursor: pointer;\r\n    padding: 10px;\r\n    text-align: center;\r\n    position: absolute;\r\n    opacity: 0;\r\n    transition: all 0.25s;\r\n    transform: scale(0.9);\r\n\r\n    &.visible {\r\n      opacity: 1;\r\n    }\r\n\r\n    &:hover {\r\n      background-color: rgba(18, 18, 18, 0.8);\r\n      transform: scale(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  .offFullscreenBtn {\r\n    width: 100%;\r\n    position: absolute;\r\n    bottom: 20px;\r\n    text-align: center;\r\n  }\r\n\r\n  .quitBtn {\r\n    padding: 10px 20px;\r\n    background-color: #494949;\r\n    display: inline-block;\r\n    border-radius: 20px;\r\n    color: #fff;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    letter-spacing: 0.05em;\r\n    transition: background-color 0.25s;\r\n\r\n    &:hover {\r\n      background-color: #545454;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookPlayer.vue?vue&type=template&id=296ef4be&scoped=true&\"\nimport script from \"./BookPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./BookPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookPlayer.vue?vue&type=style&index=0&id=296ef4be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"296ef4be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fragment',[_c('div',{staticClass:\"col-6 col-md-3\"},[_c('img',{staticClass:\"image\",attrs:{\"title\":\"London\",\"src\":require(\"./assets/images/preview_100_sm.png\"),\"alt\":\"Album photo London\"},on:{\"click\":function($event){return _vm.changeBook('London')}}})]),_c('div',{staticClass:\"col-6 col-md-3\"},[_c('img',{staticClass:\"image\",attrs:{\"title\":\"New York\",\"src\":require(\"./assets/images/preview_105_sm.png\"),\"alt\":\"Album photo New York\"},on:{\"click\":function($event){return _vm.changeBook('NewYork')}}})]),_c('div',{staticClass:\"col-6 col-md-3\"},[_c('img',{staticClass:\"image\",attrs:{\"title\":\"Paris\",\"src\":require(\"./assets/images/preview_158_sm.png\"),\"alt\":\"Album photo Paris\"},on:{\"click\":function($event){return _vm.changeBook('Paris')}}})]),_c('div',{staticClass:\"col-6 col-md-3\"},[_c('img',{staticClass:\"image\",attrs:{\"title\":\"Rome\",\"src\":require(\"./assets/images/preview_178_sm.png\"),\"alt\":\"Album photo Rome\"},on:{\"click\":function($event){return _vm.changeBook('Rome')}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <fragment>\r\n    <div class=\"col-6 col-md-3\">\r\n      <img\r\n        @click=\"changeBook('London')\"\r\n        class=\"image\"\r\n        title=\"London\"\r\n        src=\"./assets/images/preview_100_sm.png\"\r\n        alt=\"Album photo London\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"col-6 col-md-3\">\r\n      <img\r\n        @click=\"changeBook('NewYork')\"\r\n        class=\"image\"\r\n        title=\"New York\"\r\n        src=\"./assets/images/preview_105_sm.png\"\r\n        alt=\"Album photo New York\"\r\n      />\r\n    </div>\r\n    <div class=\"col-6 col-md-3\">\r\n      <img\r\n        @click=\"changeBook('Paris')\"\r\n        class=\"image\"\r\n        title=\"Paris\"\r\n        src=\"./assets/images/preview_158_sm.png\"\r\n        alt=\"Album photo Paris\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"col-6 col-md-3\">\r\n      <img\r\n        @click=\"changeBook('Rome')\"\r\n        class=\"image\"\r\n        title=\"Rome\"\r\n        src=\"./assets/images/preview_178_sm.png\"\r\n        alt=\"Album photo Rome\"\r\n      />\r\n    </div>\r\n  </fragment>\r\n</template>\r\n\r\n<script>\r\nimport { Fragment } from \"vue-fragment\";\r\nexport default {\r\n  components: { Fragment },\r\n\r\n  methods: {\r\n    changeBook(city) {\r\n      this.$root.$emit(\"change-book\", city);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n  max-width: 100%;\r\n  height: auto;\r\n  cursor: pointer;\r\n  transition: all 0.25s;\r\n  transform: scale(0.9);\r\n}\r\n\r\n.image:hover {\r\n  transform: scale(1);\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Covers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Covers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Covers.vue?vue&type=template&id=16dceccc&scoped=true&\"\nimport script from \"./Covers.vue?vue&type=script&lang=js&\"\nexport * from \"./Covers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Covers.vue?vue&type=style&index=0&id=16dceccc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16dceccc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <fragment>\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-12 col-md-7\">\r\n        <BookPlayer\r\n          :bookData=\"currentBook\"\r\n          :rootSelector=\"selector\"\r\n          :key=\"keyId\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"col-12 col-md-5 mt-3 mt-md-0\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title cardTitle\">Card title</h5>\r\n\r\n          <p class=\"card-text cardText\">\r\n            Some quick example text.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-5\">\r\n      <Covers />\r\n    </div>\r\n  </fragment>\r\n</template>\r\n\r\n<script>\r\nimport { Fragment } from \"vue-fragment\";\r\nimport BookPlayer from \"./BookPlayer\";\r\nimport Covers from \"./Covers\";\r\nexport default {\r\n  name: \"App\",\r\n\r\n  components: { Fragment, BookPlayer, Covers },\r\n\r\n  data() {\r\n    return {\r\n      allBooksData: [],\r\n      selector: null,\r\n\r\n      currentBook: null,\r\n      keyId: null,\r\n    };\r\n  },\r\n\r\n  computed: {},\r\n\r\n  methods: {\r\n    initApp(allBooksData, selector) {\r\n      this.allBooksData = allBooksData;\r\n      this.selector = selector;\r\n\r\n      this.currentBook = allBooksData[0];\r\n      this.keyId = allBooksData[0].id;\r\n\r\n      this.setInfo();\r\n    },\r\n\r\n    changeBook(city) {\r\n      let newCity = this.allBooksData.filter((book) => book.id === city)[0];\r\n\r\n      this.currentBook = newCity;\r\n      this.keyId = newCity.id;\r\n\r\n      this.setInfo();\r\n    },\r\n\r\n    setInfo() {\r\n      let title = document.querySelector(\".cardTitle\");\r\n      title.innerHTML = this.currentBook.title;\r\n\r\n      let text = document.querySelector(\".cardText\");\r\n      text.innerHTML = this.currentBook.about;\r\n    },\r\n  },\r\n\r\n  created: function() {\r\n    this.$root.$on(\"change-book\", (city) => {\r\n      this.changeBook(city);\r\n    });\r\n  },\r\n\r\n  mounted: function() {},\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3173b17a&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3173b17a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport * as data from \"./data.json\";\r\n\r\n/**\r\n|--------------------------------------------------\r\n| It works only with jquery @1.12.0 and turn.js 3rd release\r\n| (turn.js-v1.0.5 npm i turn.js)\r\n|--------------------------------------------------\r\n*/\r\n\r\nVue.config.productionTip = false;\r\n\r\nlet allBooksData = data.default;\r\n\r\nlet bookPlayer;\r\n\r\nif (allBooksData) {\r\n  bookPlayer = new Vue({\r\n    render: (h) => h(App),\r\n  }).$mount(\".bookContainer\");\r\n\r\n  // window.bookPlayer = bookPlayer;\r\n\r\n  bookPlayer.$children[0].initApp(allBooksData, \".bookContainer\");\r\n\r\n  console.log(bookPlayer);\r\n} else {\r\n  console.log(\"There is no data\");\r\n}\r\n","module.exports = __webpack_public_path__ + \"img/preview_105_sm.ea78cbeb.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=style&index=0&id=c466891a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=style&index=0&id=c466891a&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/preview_158_sm.810465a3.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=style&index=0&id=029737b4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=style&index=0&id=029737b4&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookPlayer.vue?vue&type=style&index=0&id=296ef4be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookPlayer.vue?vue&type=style&index=0&id=296ef4be&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/right-empty.f33d7d9a.jpg\";","module.exports = __webpack_public_path__ + \"img/left-empty.ac27f5e8.jpg\";","module.exports = __webpack_public_path__ + \"img/leftPage.dd138ffe.png\";","var $ = require('jquery');\n\nvar has3d,\n\n\tvendor ='',\n\n\tPI = Math.PI,\n\n\tA90 = PI/2,\n\n\tisTouch = 'ontouchstart' in window,\n\n\tevents = (isTouch) ? {start: 'touchstart', move: 'touchmove', end: 'touchend'}\n\t\t\t: {start: 'mousedown', move: 'mousemove', end: 'mouseup'},\n\n\t// Contansts used for each corner\n\t// tl * tr\n\t// *     *\n\t// bl * br\n\n\tcorners = {\n\t\tbackward: ['bl', 'tl'],\n\t\tforward: ['br', 'tr'],\n\t\tall: ['tl', 'bl', 'tr', 'br']\n\t},\n\n\tdisplays = ['single', 'double'],\n\n\t// Default options\n\n\tturnOptions = {\n\n\t\t// First page\n\n\t\tpage: 1,\n\n\t\t// Enables gradients\n\n\t\tgradients: true,\n\n\t\t// Duration of transition in milliseconds\n\n\t\tduration: 600,\n\n\t\t// Enables hardware acceleration\n\n\t\tacceleration: true,\n\n\t\t// Display\n\n\t\tdisplay: 'double',\n\n\t\t// Events\n\n\t\twhen: null\n\t},\n\n\tflipOptions = {\n\n\t\t// Back page\n\n\t\tfolding: null,\n\n\t\t// Corners\n\t\t// backward: Activates both tl and bl corners\n\t\t// forward: Activates both tr and br corners\n\t\t// all: Activates all the corners\n\n\t\tcorners: 'forward',\n\n\t\t// Size of the active zone of each corner\n\n\t\tcornerSize: 100,\n\n\t\t// Enables gradients\n\n\t\tgradients: true,\n\n\t\t// Duration of transition in milliseconds\n\n\t\tduration: 600,\n\n\t\t// Enables hardware acceleration\n\n\t\tacceleration: true\n\t},\n\n\t// Number of pages in the DOM, minimum value: 6\n\n\tpagesInDOM = 6,\n\n\tpagePosition = {0: {top: 0, left: 0, right: 'auto', bottom: 'auto'},\n\t\t\t\t\t1: {top: 0, right: 0, left: 'auto', bottom: 'auto'}},\n\n\t// Gets basic attributes for a layer\n\n\tdivAtt = function(top, left, zIndex, overf) {\n\t\treturn {'css': {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: top,\n\t\t\t\t\tleft: left,\n\t\t\t\t\t'overflow': overf || 'hidden',\n\t\t\t\t\t'z-index': zIndex || 'auto'\n\t\t\t\t\t}\n\t\t\t};\n\t},\n\n\t// Gets a 2D point from a bezier curve of four points\n\n\tbezier = function(p1, p2, p3, p4, t) {\n\t\tvar mum1 = 1 - t,\n\t\t\tmum13 = mum1 * mum1 * mum1,\n\t\t\tmu3 = t * t * t;\n\n\t\treturn point2D(Math.round(mum13*p1.x + 3*t*mum1*mum1*p2.x + 3*t*t*mum1*p3.x + mu3*p4.x),\n\t\t\t\t\t\tMath.round(mum13*p1.y + 3*t*mum1*mum1*p2.y + 3*t*t*mum1*p3.y + mu3*p4.y));\n\t},\n\n\t// Converts an angle from degrees to radians\n\n\trad = function(degrees) {\n\t\treturn degrees/180*PI;\n\t},\n\n\t// Converts an angle from radians to degrees\n\n\tdeg = function(radians) {\n\t\treturn radians/PI*180;\n\t},\n\n\t// Gets a 2D point\n\n\tpoint2D = function(x, y) {\n\t\treturn {x: x, y: y};\n\t},\n\n\t// Returns the traslate value\n\n\ttranslate = function(x, y, use3d) {\n\t\treturn (has3d && use3d) ? ' translate3d(' + x + 'px,' + y + 'px, 0px) ' : ' translate(' + x + 'px, ' + y + 'px) ';\n\t},\n\n\t// Returns the rotation value\n\n\trotate = function(degrees) {\n\t\treturn ' rotate(' + degrees + 'deg) ';\n\t},\n\n\t// Checks if a property belongs to an object\n\n\thas = function(property, object) {\n\t\treturn Object.prototype.hasOwnProperty.call(object, property);\n\t},\n\n\t// Gets the CSS3 vendor prefix\n\n\tgetPrefix = function() {\n\t\tvar vendorPrefixes = ['Moz','Webkit','Khtml','O','ms'],\n\t\t\tlen = vendorPrefixes.length,\n\t\t\tvendor = '';\n\n\t\twhile (len--)\n\t\t\tif ((vendorPrefixes[len] + 'Transform') in document.body.style)\n\t\t\t\tvendor='-'+vendorPrefixes[len].toLowerCase()+'-';\n\n\t\treturn vendor;\n\t},\n\n\t// Adds gradients\n\n\tgradient = function(obj, p0, p1, colors, numColors) {\n\n\t\tvar j, cols = [];\n\n\t\tif (vendor=='-webkit-') {\n\n\t\t\tfor (j = 0; j<numColors; j++)\n\t\t\t\t\tcols.push('color-stop('+colors[j][0]+', '+colors[j][1]+')');\n\n\t\t\tobj.css({'background-image': '-webkit-gradient(linear, '+p0.x+'% '+p0.y+'%,  '+p1.x+'% '+p1.y+'%, '+ cols.join(',') +' )'});\n\n\t\t} else {\n\n\t\t\t// This procedure makes the gradients for non-webkit browsers\n\t\t\t// It will be reduced to one unique way for gradients in next versions\n\n\t\t\tp0 = {x:p0.x/100 * obj.width(), y:p0.y/100 * obj.height()};\n\t\t\tp1 = {x:p1.x/100 * obj.width(), y:p1.y/100 * obj.height()};\n\n\t\t\tvar dx = p1.x-p0.x,\n\t\t\t\tdy = p1.y-p0.y,\n\t\t\t\tangle = Math.atan2(dy, dx),\n\t\t\t\tangle2 = angle - Math.PI/2,\n\t\t\t\tdiagonal = Math.abs(obj.width()*Math.sin(angle2)) + Math.abs(obj.height()*Math.cos(angle2)),\n\t\t\t\tgradientDiagonal = Math.sqrt(dy*dy + dx*dx),\n\t\t\t\tcorner = point2D((p1.x<p0.x) ? obj.width() : 0, (p1.y<p0.y) ? obj.height() : 0),\n\t\t\t\tslope = Math.tan(angle),\n\t\t\t\tinverse = -1/slope,\n\t\t\t\tx = (inverse*corner.x - corner.y - slope*p0.x + p0.y) / (inverse-slope),\n\t\t\t\tc = {x: x, y: inverse*x - inverse*corner.x + corner.y},\n\t\t\t\tsegA = (Math.sqrt( Math.pow(c.x-p0.x,2) + Math.pow(c.y-p0.y,2)));\n\n\t\t\t\tfor (j = 0; j<numColors; j++)\n\t\t\t\t\tcols.push(' '+colors[j][1]+' '+(( segA + gradientDiagonal*colors[j][0] )*100/diagonal)+'%');\n\n\t\t\t\tobj.css({'background-image': vendor+'linear-gradient(' + (-angle) + 'rad,' + cols.join(',') + ')'});\n\t\t}\n\t},\n\nturnMethods = {\n\n\t// Singleton constructor\n\t// $('#selector').turn([options]);\n\n\tinit: function(opts) {\n\n\t\t// Define constants\n\t\tif (has3d===undefined) {\n\t\t\thas3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\n\t\t\tvendor = getPrefix();\n\t\t}\n\n\t\tvar i, data = this.data(), ch = this.children();\n\n\t\topts = $.extend({width: this.width(), height: this.height()}, turnOptions, opts);\n\t\tdata.opts = opts;\n\t\tdata.pageObjs = {};\n\t\tdata.pages = {};\n\t\tdata.pageWrap = {};\n\t\tdata.pagePlace = {};\n\t\tdata.pageMv = [];\n\t\tdata.totalPages = opts.pages || 0;\n\n\t\tif (opts.when)\n\t\t\tfor (i in opts.when)\n\t\t\t\tif (has(i, opts.when))\n\t\t\t\t\tthis.bind(i, opts.when[i]);\n\n\n\t\tthis.css({position: 'relative', width: opts.width, height: opts.height});\n\n\t\tthis.turn('display', opts.display);\n\n\t\tif (has3d && !isTouch && opts.acceleration)\n\t\t\tthis.transform(translate(0, 0, true));\n\n\t\tfor (i = 0; i<ch.length; i++)\n\t\t\tthis.turn('addPage', ch[i], i+1);\n\n\t\tthis.turn('page', opts.page);\n\n        // allow setting active corners as an option\n        corners = $.extend({}, corners, opts.corners);\n\n\t\t// Event listeners\n\n\t\t$(this).bind(events.start, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages) && flipMethods._eventStart.call(data.pages[page], e)===false)\n\t\t\t\t\treturn false;\n\t\t});\n\n\t\t$(document).bind(events.move, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages))\n\t\t\t\t\tflipMethods._eventMove.call(data.pages[page], e);\n\t\t}).\n\t\tbind(events.end, function(e) {\n\t\t\tfor (var page in data.pages)\n\t\t\t\tif (has(page, data.pages))\n\t\t\t\t\tflipMethods._eventEnd.call(data.pages[page], e);\n\n\t\t});\n\n\t\tdata.done = true;\n\n\t\treturn this;\n\t},\n\n\t// Adds a page from external data\n\n\taddPage: function(element, page) {\n\n\t\tvar incPages = false,\n\t\t\tdata = this.data(),\n\t\t\tlastPage = data.totalPages+1;\n\n\t\tif (page) {\n\t\t\tif (page==lastPage) {\n\t\t\t\tpage = lastPage;\n\t\t\t\tincPages = true;\n\t\t\t} else if (page>lastPage)\n\t\t\t\tthrow new Error ('It is impossible to add the page \"'+page+'\", the maximum value is: \"'+lastPage+'\"');\n\n\t\t} else {\n\t\t\tpage = lastPage;\n\t\t\tincPages = true;\n\t\t}\n\n\t\tif (page>=1 && page<=lastPage) {\n\n\t\t\t// Stop animations\n\t\t\tif (data.done) this.turn('stop');\n\n\t\t\t// Move pages if it's necessary\n\t\t\tif (page in data.pageObjs)\n\t\t\t\tturnMethods._movePages.call(this, page, 1);\n\n\t\t\t// Update number of pages\n\t\t\tif (incPages)\n\t\t\t\tdata.totalPages = lastPage;\n\n\t\t\t// Add element\n\t\t\tdata.pageObjs[page] = $(element).addClass('turn-page p' + page);\n\n\t\t\t// Add page\n\t\t\tturnMethods._addPage.call(this, page);\n\n\t\t\t// Update view\n\t\t\tif (data.done)\n\t\t\t\tthis.turn('update');\n\n\t\t\tturnMethods._removeFromDOM.call(this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Adds a page from internal data\n\n\t_addPage: function(page) {\n\n\t\tvar data = this.data(),\n\t\t\telement = data.pageObjs[page];\n\n\t\tif (element)\n\t\t\tif (turnMethods._necessPage.call(this, page)) {\n\n\t\t\t\tif (!data.pageWrap[page]) {\n\n\t\t\t\t\tvar pageWidth = (data.display=='double') ? this.width()/2 : this.width(),\n\t\t\t\t\t\tpageHeight = this.height();\n\n\t\t\t\t\telement.css({width:pageWidth, height:pageHeight});\n\n\t\t\t\t\t// Place\n\t\t\t\t\tdata.pagePlace[page] = page;\n\n\t\t\t\t\t// Wrapper\n\t\t\t\t\tdata.pageWrap[page] = $('<div/>', {'class': 'turn-page-wrapper',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcss: {position: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: pageWidth,\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: pageHeight}}).\n\t\t\t\t\t\t\t\t\t\t\t\t\tcss(pagePosition[(data.display=='double') ? page%2 : 0]);\n\n\t\t\t\t\t// Append to this\n\t\t\t\t\tthis.append(data.pageWrap[page]);\n\n\t\t\t\t\t// Move data.pageObjs[page] (element) to wrapper\n\t\t\t\t\tdata.pageWrap[page].prepend(data.pageObjs[page]);\n\t\t\t\t}\n\n\t\t\t\t// If the page is in the current view, create the flip effect\n\t\t\t\tif (!page || turnMethods._setPageLoc.call(this, page)==1)\n\t\t\t\t\tturnMethods._makeFlip.call(this, page);\n\n\t\t\t} else {\n\n\t\t\t\t// Place\n\t\t\t\tdata.pagePlace[page] = 0;\n\n\t\t\t\t// Remove element from the DOM\n\t\t\t\tif (data.pageObjs[page])\n\t\t\t\t\tdata.pageObjs[page].remove();\n\n\t\t\t}\n\n\t},\n\n\t// Checks if a page is in memory\n\n\thasPage: function(page) {\n\n\t\treturn page in this.data().pageObjs;\n\n\t},\n\n\t// Prepares the flip effect for a page\n\n\t_makeFlip: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (!data.pages[page] && data.pagePlace[page]==page) {\n\n\t\t\tvar single = data.display=='single',\n\t\t\t\teven = page%2;\n\n\t\t\tdata.pages[page] = data.pageObjs[page].\n\t\t\t\t\t\t\t\tcss({width: (single) ? this.width() : this.width()/2, height: this.height()}).\n\t\t\t\t\t\t\t\tflip({page: page,\n\t\t\t\t\t\t\t\t\tnext: (single && page === data.totalPages) ? page -1 : ((even || single) ? page+1 : page-1),\n\t\t\t\t\t\t\t\t\tturn: this,\n\t\t\t\t\t\t\t\t\tduration: data.opts.duration,\n\t\t\t\t\t\t\t\t\tacceleration : data.opts.acceleration,\n\t\t\t\t\t\t\t\t\tcorners: (single) ? 'all' : ((even) ? 'forward' : 'backward'),\n\t\t\t\t\t\t\t\t\tbackGradient: data.opts.gradients,\n\t\t\t\t\t\t\t\t\tfrontGradient: data.opts.gradients\n\t\t\t\t\t\t\t\t\t}).\n\t\t\t\t\t\t\t\t\tflip('disable', data.disabled).\n\t\t\t\t\t\t\t\t\tbind('pressed', turnMethods._pressed).\n\t\t\t\t\t\t\t\t\tbind('released', turnMethods._released).\n\t\t\t\t\t\t\t\t\tbind('start', turnMethods._start).\n\t\t\t\t\t\t\t\t\tbind('end', turnMethods._end).\n\t\t\t\t\t\t\t\t\tbind('flip', turnMethods._flip);\n\t\t}\n\t\treturn data.pages[page];\n\t},\n\n\t// Makes pages within a range\n\n\t_makeRange: function() {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\trange = this.turn('range');\n\n\t\t\tfor (page = range[0]; page<=range[1]; page++)\n\t\t\t\tturnMethods._addPage.call(this, page);\n\n\t},\n\n\t// Returns a range of `pagesInDOM` pages that should be in the DOM\n\t// Example:\n\t// - page of the current view, return true\n\t// * page is in the range, return true\n\t// 0 page is not in the range, return false\n\t//\n\t// 1 2-3 4-5 6-7 8-9 10-11 12-13\n\t//    **  **  --   **  **\n\n\trange: function(page) {\n\n\t\tvar remainingPages, left, right,\n\t\t\tdata = this.data();\n\t\t\tpage = page || data.tpage || data.page;\n\t\t\tvar view = turnMethods._view.call(this, page);\n\n\t\t\tif (page<1 || page>data.totalPages)\n\t\t\t\tthrow new Error ('\"'+page+'\" is not a page for range');\n\n\t\t\tview[1] = view[1] || view[0];\n\n\t\t\tif (view[0]>=1 && view[1]<=data.totalPages) {\n\n\t\t\t\tremainingPages = Math.floor((pagesInDOM-2)/2);\n\n\t\t\t\tif (data.totalPages-view[1] > view[0]) {\n\t\t\t\t\tleft = Math.min(view[0]-1, remainingPages);\n\t\t\t\t\tright = 2*remainingPages-left;\n\t\t\t\t} else {\n\t\t\t\t\tright = Math.min(data.totalPages-view[1], remainingPages);\n\t\t\t\t\tleft = 2*remainingPages-right;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tleft = pagesInDOM-1;\n\t\t\t\tright = pagesInDOM-1;\n\t\t\t}\n\n\t\t\treturn [Math.max(1, view[0]-left), Math.min(data.totalPages, view[1]+right)];\n\n\t},\n\n\t// Detects if a page is within the range of `pagesInDOM` from the current view\n\n\t_necessPage: function(page) {\n\n\t\tif (page===0)\n\t\t\treturn true;\n\n\t\tvar range = this.turn('range');\n\n\t\treturn page>=range[0] && page<=range[1];\n\n\t},\n\n\t// Releases memory by removing pages from the DOM\n\n\t_removeFromDOM: function() {\n\n\t\tvar page, data = this.data();\n\n\t\tfor (page in data.pageWrap)\n\t\t\tif (has(page, data.pageWrap) && !turnMethods._necessPage.call(this, page))\n\t\t\t\tturnMethods._removePageFromDOM.call(this, page);\n\n\n\t},\n\n\t// Removes a page from DOM and its internal references\n\n\t_removePageFromDOM: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.pages[page]) {\n\t\t\tvar dd = data.pages[page].data();\n\t\t\tif (dd.f && dd.f.fwrapper)\n\t\t\t\tdd.f.fwrapper.remove();\n\t\t\tdata.pages[page].remove();\n\t\t\tdelete data.pages[page];\n\t\t}\n\n\t\tif (data.pageObjs[page])\n\t\t\tdata.pageObjs[page].remove();\n\n\t\tif (data.pageWrap[page]) {\n\t\t\tdata.pageWrap[page].remove();\n\t\t\tdelete data.pageWrap[page];\n\t\t}\n\n\t\tdelete data.pagePlace[page];\n\n\t},\n\n\t// Removes a page\n\n\tremovePage: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.pageObjs[page]) {\n\t\t\t// Stop animations\n\t\t\tthis.turn('stop');\n\n\t\t\t// Remove `page`\n\t\t\tturnMethods._removePageFromDOM.call(this, page);\n\t\t\tdelete data.pageObjs[page];\n\n\t\t\t// Move the pages behind `page`\n\t\t\tturnMethods._movePages.call(this, page, -1);\n\n\t\t\t// Resize the size of this magazine\n\t\t\tdata.totalPages = data.totalPages-1;\n\t\t\tturnMethods._makeRange.call(this);\n\n\t\t\t// Check the current view\n\t\t\tif (data.page>data.totalPages)\n\t\t\t\tthis.turn('page', data.totalPages);\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Moves pages\n\n\t_movePages: function(from, change) {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\tsingle = data.display=='single',\n\t\t\tmove = function(page) {\n\n\t\t\t\tvar next = page + change,\n\t\t\t\t\todd = next%2;\n\n\t\t\t\tif (data.pageObjs[page])\n\t\t\t\t\tdata.pageObjs[next] = data.pageObjs[page].removeClass('page' + page).addClass('page' + next);\n\n\t\t\t\tif (data.pagePlace[page] && data.pageWrap[page]) {\n\t\t\t\t\tdata.pagePlace[next] = next;\n\t\t\t\t\tdata.pageWrap[next] = data.pageWrap[page].css(pagePosition[(single) ? 0 : odd]).attr('page', next);\n\n\t\t\t\t\tif (data.pages[page])\n\t\t\t\t\t\tdata.pages[next] = data.pages[page].flip('options', {\n\t\t\t\t\t\t\tpage: next,\n\t\t\t\t\t\t\tnext: (single || odd) ? next+1 : next-1,\n\t\t\t\t\t\t\tcorners: (single) ? 'all' : ((odd) ? 'forward' : 'backward')\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (change) {\n\t\t\t\t\t\tdelete data.pages[page];\n\t\t\t\t\t\tdelete data.pagePlace[page];\n\t\t\t\t\t\tdelete data.pageObjs[page];\n\t\t\t\t\t\tdelete data.pageWrap[page];\n\t\t\t\t\t\tdelete data.pageObjs[page];\n\t\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (change>0)\n\t\t\tfor (page=data.totalPages; page>=from; page--) move(page);\n\t\telse\n\t\t\tfor (page=from; page<=data.totalPages; page++) move(page);\n\n\t},\n\n\t// Sets or Gets the display mode\n\n\tdisplay: function(display) {\n\n\t\tvar data = this.data(),\n\t\t\tcurrentDisplay = data.display;\n\n\t\tif (display) {\n\n\t\t\tif ($.inArray(display, displays)==-1)\n\t\t\t\tthrow new Error ('\"'+display + '\" is not a value for display');\n\n\t\t\tif (display=='single') {\n\t\t\t\tif (!data.pageObjs[0]) {\n\t\t\t\t\tthis.turn('stop').\n\t\t\t\t\t\tcss({'overflow': 'hidden'});\n\t\t\t\t\tdata.pageObjs[0] = $('<div />', {'class': 'turn-page p-temporal'}).\n\t\t\t\t\t\t\t\t\tcss({width: this.width(), height: this.height()}).\n\t\t\t\t\t\t\t\t\t\tappendTo(this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (data.pageObjs[0]) {\n\t\t\t\t\tthis.turn('stop').\n\t\t\t\t\t\tcss({'overflow': ''});\n\t\t\t\t\tdata.pageObjs[0].remove();\n\t\t\t\t\tdelete data.pageObjs[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata.display = display;\n\n\t\t\tif (currentDisplay) {\n\t\t\t\tvar size = this.turn('size');\n\t\t\t\tturnMethods._movePages.call(this, 1, 0);\n\t\t\t\tthis.turn('size', size.width, size.height).\n\t\t\t\t\t\tturn('update');\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t} else\n\t\t\treturn currentDisplay;\n\n\t},\n\n\t// Detects if the pages are being animated\n\n\tanimating: function() {\n\n\t\treturn this.data().pageMv.length>0;\n\n\t},\n\n\t// Disables and enables the effect\n\n\tdisable: function(bool) {\n\n\t\tvar page,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view');\n\n\t\t\tdata.disabled = bool===undefined || bool===true;\n\n\t\tfor (page in data.pages)\n\t\t\tif (has(page, data.pages))\n\t\t\t\tdata.pages[page].flip('disable', bool ? $.inArray(page, view) : false );\n\n\t\treturn this;\n\n\t},\n\n\t// Gets and sets the size\n\n\tsize: function(width, height) {\n\n\t\tif (width && height) {\n\n\t\t\tvar data = this.data(), pageWidth = (data.display=='double') ? width/2 : width, page;\n\n\t\t\tthis.css({width: width, height: height});\n\n\t\t\tif (data.pageObjs[0])\n\t\t\t\tdata.pageObjs[0].css({width: pageWidth, height: height});\n\n\t\t\tfor (page in data.pageWrap) {\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\t\t\t\tdata.pageObjs[page].css({width: pageWidth, height: height});\n\t\t\t\tdata.pageWrap[page].css({width: pageWidth, height: height});\n\t\t\t\tif (data.pages[page])\n\t\t\t\t\tdata.pages[page].css({width: pageWidth, height: height});\n\t\t\t}\n\n\t\t\tthis.turn('resize');\n\n\t\t\treturn this;\n\n\t\t} else {\n\n\t\t\treturn {width: this.width(), height: this.height()};\n\n\t\t}\n\t},\n\n\t// Resizes each page\n\n\tresize: function() {\n\n\t\tvar page, data = this.data();\n\n\t\tif (data.pages[0]) {\n\t\t\tdata.pageWrap[0].css({left: -this.width()});\n\t\t\tdata.pages[0].flip('resize', true);\n\t\t}\n\n\t\tfor (page = 1; page <= data.totalPages; page++)\n\t\t\tif (data.pages[page])\n\t\t\t\tdata.pages[page].flip('resize', true);\n\n\n\t},\n\n\t// Removes an animation from the cache\n\n\t_removeMv: function(page) {\n\n\t\tvar i, data = this.data();\n\n\t\tfor (i=0; i<data.pageMv.length; i++)\n\t\t\tif (data.pageMv[i]==page) {\n\t\t\t\tdata.pageMv.splice(i, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\treturn false;\n\n\t},\n\n\t// Adds an animation to the cache\n\n\t_addMv: function(page) {\n\n\t\tvar data = this.data();\n\n\t\tturnMethods._removeMv.call(this, page);\n\t\tdata.pageMv.push(page);\n\n\t},\n\n\t// Gets indexes for a view\n\n\t_view: function(page) {\n\n\t\tvar data = this.data();\n\t\tpage = page || data.page;\n\n\t\tif (data.display=='double')\n\t\t\treturn (page%2) ? [page-1, page] : [page, page+1];\n\t\telse\n\t\t\treturn [page];\n\n\t},\n\n\t// Gets a view\n\n\tview: function(page) {\n\n\t\tvar data = this.data(), view = turnMethods._view.call(this, page);\n\n\t\treturn (data.display=='double') ? [(view[0]>0) ? view[0] : 0, (view[1]<=data.totalPages) ? view[1] : 0]\n\t\t\t\t: [(view[0]>0 && view[0]<=data.totalPages) ? view[0] : 0];\n\n\t},\n\n\t// Stops animations\n\n\tstop: function(ok) {\n\n\t\tvar i, opts, data = this.data(), pages = data.pageMv;\n\n\t\tdata.pageMv = [];\n\n\t\tif (data.tpage) {\n\t\t\tdata.page = data.tpage;\n\t\t\tdelete data['tpage'];\n\t\t}\n\n\t\tfor (i in pages) {\n\t\t\tif (!has(i, pages)) continue;\n\t\t\topts = data.pages[pages[i]].data().f.opts;\n\t\t\tflipMethods._moveFoldingPage.call(data.pages[pages[i]], null);\n\t\t\tdata.pages[pages[i]].flip('hideFoldedPage');\n\t\t\tdata.pagePlace[opts.next] = opts.next;\n\n\t\t\tif (opts.force) {\n\t\t\t\topts.next = (opts.page%2===0) ? opts.page-1 : opts.page+1;\n\t\t\t\tdelete opts['force'];\n\t\t\t}\n\n\t\t}\n\n\t\tthis.turn('update');\n\n\t\treturn this;\n\t},\n\n\t// Gets and sets the number of pages\n\n\tpages: function(pages) {\n\n\t\tvar data = this.data();\n\n\t\tif (pages) {\n\t\t\tif (pages<data.totalPages) {\n\n\t\t\t\tfor (var page = pages+1; page<=data.totalPages; page++)\n\t\t\t\t\tthis.turn('removePage', page);\n\n\t\t\t\tif (this.turn('page')>pages)\n\t\t\t\t\tthis.turn('page', pages);\n\t\t\t}\n\n\t\t\tdata.totalPages = pages;\n\n\t\t\treturn this;\n\t\t} else\n\t\t\treturn data.totalPages;\n\n\t},\n\n\t// Sets a page without effect\n\n\t_fitPage: function(page, ok) {\n\n\t\tvar data = this.data(), newView = this.turn('view', page);\n\n\t\tif (data.page!=page) {\n\t\t\tthis.trigger('turning', [page, newView]);\n\t\t\tif ($.inArray(1, newView)!=-1) this.trigger('first');\n\t\t\tif ($.inArray(data.totalPages, newView)!=-1) this.trigger('last');\n\t\t}\n\n\t\tif (!data.pageObjs[page])\n\t\t\treturn;\n\n\t\tdata.tpage = page;\n\n\t\tthis.turn('stop', ok);\n\t\tturnMethods._removeFromDOM.call(this);\n\t\tturnMethods._makeRange.call(this);\n\t\tthis.trigger('turned', [page, newView]);\n\n\t},\n\n\t// Turns to a page\n\n\t_turnPage: function(page) {\n\n\t\tvar current, next,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view'),\n\t\t\tnewView = this.turn('view', page);\n\n\t\tif (data.page!=page) {\n\t\t\tthis.trigger('turning', [page, newView]);\n\t\t\tif ($.inArray(1, newView)!=-1) this.trigger('first');\n\t\t\tif ($.inArray(data.totalPages, newView)!=-1) this.trigger('last');\n\t\t}\n\n\t\tif (!data.pageObjs[page])\n\t\t\treturn;\n\n\t\tdata.tpage = page;\n\n\t\tthis.turn('stop');\n\n\t\tturnMethods._makeRange.call(this);\n\n\t\tif (data.display=='single') {\n\t\t\tcurrent = view[0];\n\t\t\tnext = newView[0];\n\t\t} else if (view[1] && page>view[1]) {\n\t\t\tcurrent = view[1];\n\t\t\tnext = newView[0];\n\t\t} else if (view[0] && page<view[0]) {\n\t\t\tcurrent = view[0];\n\t\t\tnext = newView[1];\n\t\t}\n\n\t\tif (data.pages[current]) {\n\n\t\t\tvar opts = data.pages[current].data().f.opts;\n\t\t\tdata.tpage = next;\n\n\t\t\tif (opts.next!=next) {\n\t\t\t\topts.next = next;\n\t\t\t\tdata.pagePlace[next] = opts.page;\n\t\t\t\topts.force = true;\n\t\t\t}\n\n\t\t\tif (data.display=='single')\n\t\t\t\tdata.pages[current].flip('turnPage', (newView[0] > view[0]) ? 'br' : 'bl');\n\t\t\telse\n\t\t\t\tdata.pages[current].flip('turnPage');\n\t\t}\n\n\t},\n\n\t// Gets and sets a page\n\n\tpage: function(page) {\n\n\t\tpage = parseInt(page, 10);\n\n\t\tvar data = this.data();\n\n\t\tif (page>0 && page<=data.totalPages) {\n\t\t\tif (!data.done || $.inArray(page, this.turn('view'))!=-1)\n\t\t\t\tturnMethods._fitPage.call(this, page);\n\t\t\telse\n\t\t\t\tturnMethods._turnPage.call(this, page);\n\n\t\t\treturn this;\n\n\t\t} else\n\t\t\treturn data.page;\n\n\t},\n\n\t// Turns to the next view\n\n\tnext: function() {\n\n\t\tvar data = this.data();\n\t\treturn this.turn('page', turnMethods._view.call(this, data.page).pop() + 1);\n\n\t},\n\n\t// Turns to the previous view\n\n\tprevious: function() {\n\n\t\tvar data = this.data();\n\t\treturn this.turn('page', turnMethods._view.call(this, data.page).shift() - 1);\n\n\t},\n\n\t// Adds a motion to the internal list\n\n\t_addMotionPage: function() {\n\n\t\tvar opts = $(this).data().f.opts,\n\t\t\tturn = opts.turn,\n\t\t\tdd = turn.data();\n\n\t\topts.pageMv = opts.page;\n\t\tturnMethods._addMv.call(turn, opts.pageMv);\n\t\tdd.pagePlace[opts.next] = opts.page;\n\t\tturn.turn('update');\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_start: function(e, opts, corner) {\n\n\t\t\tvar data = opts.turn.data(),\n\t\t\t\tevent = $.Event('start');\n\n\t\t\te.stopPropagation();\n\n\t\t\topts.turn.trigger(event, [opts, corner]);\n\n\t\t\tif (event.isDefaultPrevented()) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\tif (data.display=='single') {\n\n\t\t\tvar left = corner.charAt(1)=='l';\n\t\t\tif ((opts.page==1 && left) || (opts.page==data.totalPages && !left))\n\t\t\t\te.preventDefault();\n\t\t\telse {\n\t\t\t\tif (left) {\n\t\t\t\t\topts.next = (opts.next<opts.page) ? opts.next : opts.page-1;\n\t\t\t\t\topts.force = true;\n\t\t\t\t} else\n\t\t\t\t\topts.next = (opts.next>opts.page) ? opts.next : opts.page+1;\n\t\t\t}\n\n\t\t}\n\n\t\tturnMethods._addMotionPage.call(this);\n\t},\n\n\t// This event is called in context of flip\n\n\t_end: function(e, turned) {\n\n\t\tvar that = $(this),\n\t\t\tdata = that.data().f,\n\t\t\topts = data.opts,\n\t\t\tturn = opts.turn,\n\t\t\tdd = turn.data();\n\n\t\te.stopPropagation();\n\n\t\tif (turned || dd.tpage) {\n\n\t\t\tif (dd.tpage==opts.next || dd.tpage==opts.page) {\n\t\t\t\tdelete dd['tpage'];\n\t\t\t\tturnMethods._fitPage.call(turn, dd.tpage || opts.next, true);\n\t\t\t}\n\n\t\t} else {\n\t\t\tturnMethods._removeMv.call(turn, opts.pageMv);\n\t\t\tturn.turn('update');\n\t\t}\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_pressed: function() {\n\n\t\tvar page,\n\t\t\tthat = $(this),\n\t\t\tdata = that.data().f,\n\t\t\tturn = data.opts.turn,\n\t\t\tpages = turn.data().pages;\n\n\t\tfor (page in pages)\n\t\t\tif (page!=data.opts.page)\n\t\t\t\tpages[page].flip('disable', true);\n\n\t\treturn data.time = new Date().getTime();\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_released: function(e, point) {\n\n\t\tvar that = $(this),\n\t\t\tdata = that.data().f;\n\n\t\t\te.stopPropagation();\n\n\t\tif ((new Date().getTime())-data.time<200 || point.x<0 || point.x>$(this).width()) {\n\t\t\te.preventDefault();\n\t\t\tdata.opts.turn.data().tpage = data.opts.next;\n\t\t\tdata.opts.turn.turn('update');\n\t\t\t$(that).flip('turnPage');\n\t\t}\n\n\t},\n\n\t// This event is called in context of flip\n\n\t_flip: function() {\n\n\t\tvar opts = $(this).data().f.opts;\n\n\t\topts.turn.trigger('turn', [opts.next]);\n\n\t},\n\n\t// Calculate the z-index value for pages during the animation\n\n\tcalculateZ: function(mv) {\n\n\t\tvar i, page, nextPage, placePage, dpage,\n\t\t\tthat = this,\n\t\t\tdata = this.data(),\n\t\t\tview = this.turn('view'),\n\t\t\tcurrentPage = view[0] || view[1],\n\t\t\tr = {pageZ: {}, partZ: {}, pageV: {}},\n\n\t\t\taddView = function(page) {\n\t\t\t\tvar view = that.turn('view', page);\n\t\t\t\tif (view[0]) r.pageV[view[0]] = true;\n\t\t\t\tif (view[1]) r.pageV[view[1]] = true;\n\t\t\t};\n\n\t\t\tfor (i = 0; i<mv.length; i++) {\n\t\t\t\tpage = mv[i];\n\t\t\t\tnextPage = data.pages[page].data().f.opts.next;\n\t\t\t\tplacePage = data.pagePlace[page];\n\t\t\t\taddView(page);\n\t\t\t\taddView(nextPage);\n\t\t\t\tdpage = (data.pagePlace[nextPage]==nextPage) ? nextPage : page;\n\t\t\t\tr.pageZ[dpage] = data.totalPages - Math.abs(currentPage-dpage);\n\t\t\t\tr.partZ[placePage] = data.totalPages*2 + Math.abs(currentPage-dpage);\n\t\t\t}\n\n\t\treturn r;\n\t},\n\n\t// Updates the z-index and display property of every page\n\n\tupdate: function() {\n\n\t\tvar page,\n\t\t\tdata = this.data();\n\n\t\tif (data.pageMv.length && data.pageMv[0]!==0) {\n\n\t\t\t// Update motion\n\n\t\t\tvar apage,\n\t\t\t\tpos = this.turn('calculateZ', data.pageMv),\n\t\t\t\tview = this.turn('view', data.tpage);\n\n\t\t\tif (data.pagePlace[view[0]]==view[0]) apage = view[0];\n\t\t\telse if (data.pagePlace[view[1]]==view[1]) apage = view[1];\n\n\t\t\tfor (page in data.pageWrap) {\n\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\n\t\t\t\tdata.pageWrap[page].css({display: (pos.pageV[page]) ? '' : 'none', 'z-index': pos.pageZ[page] || 0});\n\n\t\t\t\tif (data.pages[page]) {\n\t\t\t\t\tdata.pages[page].flip('z', pos.partZ[page] || null);\n\n\t\t\t\t\tif (pos.pageV[page])\n\t\t\t\t\t\tdata.pages[page].flip('resize');\n\n\t\t\t\t\tif (data.tpage)\n\t\t\t\t\t\tdata.pages[page].flip('disable', true); // data.disabled || page!=apage\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Update static pages\n\n\t\t\tfor (page in data.pageWrap) {\n\t\t\t\tif (!has(page, data.pageWrap)) continue;\n\t\t\t\t\tvar pageLocation = turnMethods._setPageLoc.call(this, page);\n\t\t\t\t\tif (data.pages[page])\n\t\t\t\t\t\tdata.pages[page].flip('disable', data.disabled || pageLocation!=1).flip('z', null);\n\t\t\t}\n\t\t}\n\t},\n\n\t// Sets the z-index and display property of a page\n\t// It depends on the current view\n\n\t_setPageLoc: function(page) {\n\n\t\tvar data = this.data(),\n\t\t\tview = this.turn('view');\n\n\t\tif (page==view[0] || page==view[1]) {\n\t\t\tdata.pageWrap[page].css({'z-index': data.totalPages, display: ''});\n\t\t\treturn 1;\n\t\t} else if ((data.display=='single' && page==view[0]+1) || (data.display=='double' && page==view[0]-2 || page==view[1]+2)) {\n\t\t\tdata.pageWrap[page].css({'z-index': data.totalPages-1, display: ''});\n\t\t\treturn 2;\n\t\t} else {\n\t\t\tdata.pageWrap[page].css({'z-index': 0, display: 'none'});\n\t\t\treturn 0;\n\t\t}\n\t}\n},\n\n// Methods and properties for the flip page effect\n\nflipMethods = {\n\n\t// Constructor\n\n\tinit: function(opts) {\n\n\t\tif (opts.gradients) {\n\t\t\topts.frontGradient = true;\n\t\t\topts.backGradient = true;\n\t\t}\n\n\t\tthis.data({f: {}});\n\t\tthis.flip('options', opts);\n\n\t\tflipMethods._addPageWrapper.call(this);\n\n\t\treturn this;\n\t},\n\n\tsetData: function(d) {\n\n\t\tvar data = this.data();\n\n\t\tdata.f = $.extend(data.f, d);\n\n\t\treturn this;\n\t},\n\n\toptions: function(opts) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (opts) {\n\t\t\tflipMethods.setData.call(this, {opts: $.extend({}, data.opts || flipOptions, opts) });\n\t\t\treturn this;\n\t\t} else\n\t\t\treturn data.opts;\n\n\t},\n\n\tz: function(z) {\n\n\t\tvar data = this.data().f;\n\t\tdata.opts['z-index'] = z;\n\t\tdata.fwrapper.css({'z-index': z || parseInt(data.parent.css('z-index'), 10) || 0});\n\n\t\treturn this;\n\t},\n\n\t_cAllowed: function() {\n\n\t\treturn corners[this.data().f.opts.corners] || this.data().f.opts.corners;\n\n\t},\n\n\t_cornerActivated: function(e) {\n\t\tif (e.originalEvent === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\te = (isTouch) ? e.originalEvent.touches : [e];\n\n\t\tvar data = this.data().f,\n\t\t\tpos = data.parent.offset(),\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tc = {x: Math.max(0, e[0].pageX-pos.left), y: Math.max(0, e[0].pageY-pos.top)},\n\t\t\tcsz = data.opts.cornerSize,\n\t\t\tallowedCorners = flipMethods._cAllowed.call(this);\n\n\t\t\tif (c.x<=0 || c.y<=0 || c.x>=width || c.y>=height) return false;\n\n\t\t\tif (c.y<csz) c.corner = 't';\n\t\t\telse if (c.y>=height-csz) c.corner = 'b';\n\t\t\telse return false;\n\n\t\t\tif (c.x<=csz) c.corner+= 'l';\n\t\t\telse if (c.x>=width-csz) c.corner+= 'r';\n\t\t\telse return false;\n\n\t\treturn ($.inArray(c.corner, allowedCorners)==-1) ? false : c;\n\n\t},\n\n\t_c: function(corner, opts) {\n\n\t\topts = opts || 0;\n\t\treturn ({tl: point2D(opts, opts),\n\t\t\t\ttr: point2D(this.width()-opts, opts),\n\t\t\t\tbl: point2D(opts, this.height()-opts),\n\t\t\t\tbr: point2D(this.width()-opts, this.height()-opts)})[corner];\n\n\t},\n\n\t_c2: function(corner) {\n\n\t\treturn {tl: point2D(this.width()*2, 0),\n\t\t\t\ttr: point2D(-this.width(), 0),\n\t\t\t\tbl: point2D(this.width()*2, this.height()),\n\t\t\t\tbr: point2D(-this.width(), this.height())}[corner];\n\n\t},\n\n\t_foldingPage: function(corner) {\n\n\t\tvar opts = this.data().f.opts;\n\n\t\tif (opts.folding) return opts.folding;\n\t\telse if(opts.turn) {\n\t\t\tvar data = opts.turn.data();\n\t\t\tif (data.display == 'single')\n\t\t\t\treturn (data.pageObjs[opts.next]) ? data.pageObjs[0] : null;\n\t\t\telse\n\t\t\t\treturn data.pageObjs[opts.next];\n\t\t}\n\n\t},\n\n\t_backGradient: function() {\n\n\t\tvar data =\tthis.data().f,\n\t\t\tturn = data.opts.turn,\n\t\t\tgradient = data.opts.backGradient &&\n\t\t\t\t\t\t(!turn || turn.data().display=='single' || (data.opts.page!=2 && data.opts.page!=turn.data().totalPages-1) );\n\n\n\t\tif (gradient && !data.bshadow)\n\t\t\tdata.bshadow = $('<div/>', divAtt(0, 0, 1)).\n\t\t\t\tcss({'position': '', width: this.width(), height: this.height()}).\n\t\t\t\t\tappendTo(data.parent);\n\n\t\treturn gradient;\n\n\t},\n\n\tresize: function(full) {\n\n\t\tvar data = this.data().f,\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tsize = Math.round(Math.sqrt(Math.pow(width, 2)+Math.pow(height, 2)));\n\n\t\tif (full) {\n\t\t\tdata.wrapper.css({width: size, height: size});\n\t\t\tdata.fwrapper.css({width: size, height: size}).\n\t\t\t\tchildren(':first-child').\n\t\t\t\t\tcss({width: width, height: height});\n\n\t\t\tdata.fpage.css({width: height, height: width});\n\n\t\t\tif (data.opts.frontGradient)\n\t\t\t\tdata.ashadow.css({width: height, height: width});\n\n\t\t\tif (flipMethods._backGradient.call(this))\n\t\t\t\tdata.bshadow.css({width: width, height: height});\n\t\t}\n\n\t\tif (data.parent.is(':visible')) {\n\t\t\tdata.fwrapper.css({top: data.parent.offset().top,\n\t\t\t\tleft: data.parent.offset().left});\n\n\t\t\tif (data.opts.turn)\n\t\t\t\tdata.fparent.css({top: -data.opts.turn.offset().top, left: -data.opts.turn.offset().left});\n\t\t}\n\n\t\tthis.flip('z', data.opts['z-index']);\n\n\t},\n\n\t// Prepares the page by adding a general wrapper and another objects\n\n\t_addPageWrapper: function() {\n\n\t\tvar att,\n\t\t\tdata = this.data().f,\n\t\t\tparent = this.parent();\n\n\t\tif (!data.wrapper) {\n\n\t\t\tvar left = this.css('left'),\n\t\t\t\ttop = this.css('top'),\n\t\t\t\twidth = this.width(),\n\t\t\t\theight = this.height(),\n\t\t\t\tsize = Math.round(Math.sqrt(Math.pow(width, 2)+Math.pow(height, 2)));\n\n\t\t\tdata.parent = parent;\n\t\t\tdata.fparent = (data.opts.turn) ? data.opts.turn.data().fparent : $('#turn-fwrappers');\n\n\t\t\tif (!data.fparent) {\n\t\t\t\tvar fparent = $('<div/>', {css: {'pointer-events': 'none'}}).hide();\n\t\t\t\t\tfparent.data().flips = 0;\n\n\t\t\t\tif (data.opts.turn) {\n\t\t\t\t\tfparent.css(divAtt(-data.opts.turn.offset().top, -data.opts.turn.offset().left, 'auto', 'visible').css).\n\t\t\t\t\t\t\tappendTo(data.opts.turn);\n\n\t\t\t\t\tdata.opts.turn.data().fparent = fparent;\n\t\t\t\t} else {\n\t\t\t\t\tfparent.css(divAtt(0, 0, 'auto', 'visible').css).\n\t\t\t\t\t\tattr('id', 'turn-fwrappers').\n\t\t\t\t\t\t\tappendTo($('body'));\n\t\t\t\t}\n\n\t\t\t\tdata.fparent = fparent;\n\t\t\t}\n\n\t\t\tthis.css({position: 'absolute', top: 0, left: 0, bottom: 'auto', right: 'auto'});\n\n\t\t\tdata.wrapper = $('<div/>', divAtt(0, 0, this.css('z-index'))).\n\t\t\t\t\t\t\t\tappendTo(parent).\n\t\t\t\t\t\t\t\t\tprepend(this);\n\n\t\t\tdata.fwrapper = $('<div/>', divAtt(parent.offset().top, parent.offset().left)).\n\t\t\t\t\t\t\t\thide().\n\t\t\t\t\t\t\t\t\tappendTo(data.fparent);\n\n\t\t\tdata.fpage = $('<div/>', {css: {cursor: 'default'}}).\n\t\t\t\t\tappendTo($('<div/>', divAtt(0, 0, 0, 'visible')).\n\t\t\t\t\t\t\t\tappendTo(data.fwrapper));\n\n\t\t\tif (data.opts.frontGradient)\n\t\t\t\tdata.ashadow = $('<div/>', divAtt(0, 0,  1)).\n\t\t\t\t\tappendTo(data.fpage);\n\n\t\t\t// Save data\n\n\t\t\tflipMethods.setData.call(this, data);\n\n\t\t\t// Set size\n\t\t\tflipMethods.resize.call(this, true);\n\t\t}\n\n\t},\n\n\t// Takes a 2P point from the screen and applies the transformation\n\n\t_fold: function(point) {\n\n\t\tvar that = this,\n\t\t\ta = 0,\n\t\t\talpha = 0,\n\t\t\tbeta,\n\t\t\tpx,\n\t\t\tgradientEndPointA,\n\t\t\tgradientEndPointB,\n\t\t\tgradientStartV,\n\t\t\tgradientSize,\n\t\t\tgradientOpacity,\n\t\t\tmv = point2D(0, 0),\n\t\t\tdf = point2D(0, 0),\n\t\t\ttr = point2D(0, 0),\n\t\t\twidth = this.width(),\n\t\t\theight = this.height(),\n\t\t\tfolding = flipMethods._foldingPage.call(this),\n\t\t\ttan = Math.tan(alpha),\n\t\t\tdata = this.data().f,\n\t\t\tac = data.opts.acceleration,\n\t\t\th = data.wrapper.height(),\n\t\t\to = flipMethods._c.call(this, point.corner),\n\t\t\ttop = point.corner.substr(0, 1) == 't',\n\t\t\tleft = point.corner.substr(1, 1) == 'l',\n\n\t\t\tcompute = function() {\n\t\t\t\tvar rel = point2D((o.x) ? o.x - point.x : point.x, (o.y) ? o.y - point.y : point.y),\n\t\t\t\t\ttan = (Math.atan2(rel.y, rel.x)),\n\t\t\t\t\tmiddle;\n\n\t\t\t\talpha = A90 - tan;\n\t\t\t\ta = deg(alpha);\n\t\t\t\tmiddle = point2D((left) ? width - rel.x/2 : point.x + rel.x/2, rel.y/2);\n\n\t\t\t\tvar gamma = alpha - Math.atan2(middle.y, middle.x),\n\t\t\t\t\tdistance =  Math.max(0, Math.sin(gamma) * Math.sqrt(Math.pow(middle.x, 2) + Math.pow(middle.y, 2)));\n\n\t\t\t\t\ttr = point2D(distance * Math.sin(alpha), distance * Math.cos(alpha));\n\n\t\t\t\t\tif (alpha > A90) {\n\n\t\t\t\t\t\ttr.x = tr.x + Math.abs(tr.y * Math.tan(tan));\n\t\t\t\t\t\ttr.y = 0;\n\n\t\t\t\t\t\tif (Math.round(tr.x*Math.tan(PI-alpha)) < height) {\n\n\t\t\t\t\t\t\tpoint.y = Math.sqrt(Math.pow(height, 2)+2 * middle.x * rel.x);\n\t\t\t\t\t\t\tif (top) point.y =  height - point.y;\n\t\t\t\t\t\t\treturn compute();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tif (alpha>A90) {\n\t\t\t\t\tvar beta = PI-alpha, dd = h - height/Math.sin(beta);\n\t\t\t\t\tmv = point2D(Math.round(dd*Math.cos(beta)), Math.round(dd*Math.sin(beta)));\n\t\t\t\t\tif (left) mv.x = - mv.x;\n\t\t\t\t\tif (top) mv.y = - mv.y;\n\t\t\t\t}\n\n\t\t\t\tpx = Math.round(tr.y/Math.tan(alpha) + tr.x);\n\n\t\t\t\tvar side = width - px,\n\t\t\t\t\tsideX = side*Math.cos(alpha*2),\n\t\t\t\t\tsideY = side*Math.sin(alpha*2);\n\t\t\t\t\tdf = point2D(Math.round( (left ? side -sideX : px+sideX)), Math.round((top) ? sideY : height - sideY));\n\n\n\t\t\t\t// GRADIENTS\n\n\t\t\t\t\tgradientSize = side*Math.sin(alpha);\n\t\t\t\t\t\tvar endingPoint = flipMethods._c2.call(that, point.corner),\n\t\t\t\t\t\tfar = Math.sqrt(Math.pow(endingPoint.x-point.x, 2)+Math.pow(endingPoint.y-point.y, 2));\n\n\t\t\t\t\tgradientOpacity = (far<width) ? far/width : 1;\n\n\n\t\t\t\tif (data.opts.frontGradient) {\n\n\t\t\t\t\tgradientStartV = gradientSize>100 ? (gradientSize-100)/gradientSize : 0;\n\t\t\t\t\tgradientEndPointA = point2D(gradientSize*Math.sin(A90-alpha)/height*100, gradientSize*Math.cos(A90-alpha)/width*100);\n\n\t\t\t\t\tif (top) gradientEndPointA.y = 100-gradientEndPointA.y;\n\t\t\t\t\tif (left) gradientEndPointA.x = 100-gradientEndPointA.x;\n\t\t\t\t}\n\n\t\t\t\tif (flipMethods._backGradient.call(that)) {\n\n\t\t\t\t\tgradientEndPointB = point2D(gradientSize*Math.sin(alpha)/width*100, gradientSize*Math.cos(alpha)/height*100);\n\t\t\t\t\tif (!left) gradientEndPointB.x = 100-gradientEndPointB.x;\n\t\t\t\t\tif (!top) gradientEndPointB.y = 100-gradientEndPointB.y;\n\t\t\t\t}\n\t\t\t\t//\n\n\t\t\t\ttr.x = Math.round(tr.x);\n\t\t\t\ttr.y = Math.round(tr.y);\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\ttransform = function(tr, c, x, a) {\n\n\t\t\t\tvar f = ['0', 'auto'], mvW = (width-h)*x[0]/100, mvH = (height-h)*x[1]/100,\n\t\t\t\t\tv = {left: f[c[0]], top: f[c[1]], right: f[c[2]], bottom: f[c[3]]},\n\t\t\t\t\taliasingFk = (a!=90 && a!=-90) ? (left ? -1 : 1) : 0;\n\n\t\t\t\t\tx = x[0] + '% ' + x[1] + '%';\n\n\t\t\t\tthat.css(v).transform(rotate(a) + translate(tr.x + aliasingFk, tr.y, ac), x);\n\n\t\t\t\tdata.fpage.parent().css(v);\n\t\t\t\tdata.wrapper.transform(translate(-tr.x + mvW-aliasingFk, -tr.y + mvH, ac) + rotate(-a), x);\n\n\t\t\t\tdata.fwrapper.transform(translate(-tr.x + mv.x + mvW, -tr.y + mv.y + mvH, ac) + rotate(-a), x);\n\t\t\t\tdata.fpage.parent().transform(rotate(a) + translate(tr.x + df.x - mv.x, tr.y + df.y - mv.y, ac), x);\n\n\t\t\t\tif (data.opts.frontGradient)\n\t\t\t\t\tgradient(data.ashadow,\n\t\t\t\t\t\t\tpoint2D(left?100:0, top?100:0),\n\t\t\t\t\t\t\tpoint2D(gradientEndPointA.x, gradientEndPointA.y),\n\t\t\t\t\t\t\t[[gradientStartV, 'rgba(0,0,0,0)'],\n\t\t\t\t\t\t\t[((1-gradientStartV)*0.8)+gradientStartV, 'rgba(0,0,0,'+(0.2*gradientOpacity)+')'],\n\t\t\t\t\t\t\t[1, 'rgba(255,255,255,'+(0.2*gradientOpacity)+')']],\n\t\t\t\t\t\t\t3,\n\t\t\t\t\t\t\talpha);\n\n\t\t\t\tif (flipMethods._backGradient.call(that))\n\t\t\t\t\tgradient(data.bshadow,\n\t\t\t\t\t\t\tpoint2D(left?0:100, top?0:100),\n\t\t\t\t\t\t\tpoint2D(gradientEndPointB.x, gradientEndPointB.y),\n\t\t\t\t\t\t\t[[0.8, 'rgba(0,0,0,0)'],\n\t\t\t\t\t\t\t[1, 'rgba(0,0,0,'+(0.3*gradientOpacity)+')'],\n\t\t\t\t\t\t\t[1, 'rgba(0,0,0,0)']],\n\t\t\t\t\t\t\t3);\n\n\t\t\t};\n\n\t\tswitch (point.corner) {\n\t\t\tcase 'tl' :\n\t\t\t\tpoint.x = Math.max(point.x, 1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(tr, [1,0,0,1], [100, 0], a);\n\t\t\t\tdata.fpage.transform(translate(-height, -width, ac) + rotate(90-a*2) , '100% 100%');\n\t\t\t\tfolding.transform(rotate(90) + translate(0, -height, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'tr' :\n\t\t\t\tpoint.x = Math.min(point.x, width-1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(-tr.x, tr.y), [0,0,0,1], [0, 0], -a);\n\t\t\t\tdata.fpage.transform(translate(0, -width, ac) + rotate(-90+a*2) , '0% 100%');\n\t\t\t\tfolding.transform(rotate(270) + translate(-width, 0, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'bl' :\n\t\t\t\tpoint.x = Math.max(point.x, 1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(tr.x, -tr.y), [1,1,0,0], [100, 100], -a);\n\t\t\t\tdata.fpage.transform(translate(-height, 0, ac) + rotate(-90+a*2), '100% 0%');\n\t\t\t\tfolding.transform(rotate(270) + translate(-width, 0, ac), '0% 0%');\n\t\t\tbreak;\n\t\t\tcase 'br' :\n\t\t\t\tpoint.x = Math.min(point.x, width-1);\n\t\t\t\tcompute();\n\t\t\t\ttransform(point2D(-tr.x, -tr.y), [0,1,1,0], [0, 100], a);\n\t\t\t\tdata.fpage.transform(rotate(90-a*2), '0% 0%');\n\t\t\t\tfolding.transform(rotate(90) + translate(0, -height, ac), '0% 0%');\n\n\t\t\tbreak;\n\t\t}\n\n\t\tdata.point = point;\n\n\t},\n\n\t_moveFoldingPage: function(bool) {\n\n\t\tvar data = this.data().f,\n\t\t\tfolding = flipMethods._foldingPage.call(this);\n\n\t\tif (folding) {\n\t\t\tif (bool) {\n\t\t\t\tif (!data.fpage.children()[data.ashadow? '1' : '0']) {\n\t\t\t\t\tflipMethods.setData.call(this, {backParent: folding.parent()});\n\t\t\t\t\tdata.fpage.prepend(folding);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (data.backParent)\n\t\t\t\t\tdata.backParent.prepend(folding);\n\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_showFoldedPage: function(c, animate) {\n\n\t\tvar folding = flipMethods._foldingPage.call(this),\n\t\t\tdd = this.data(),\n\t\t\tdata = dd.f;\n\n\t\tif (!data.point || data.point.corner!=c.corner) {\n\t\t\tvar event = $.Event('start');\n\t\t\tthis.trigger(event, [data.opts, c.corner]);\n\n\t\t\tif (event.isDefaultPrevented())\n\t\t\t\treturn false;\n\t\t}\n\n\n\t\tif (folding) {\n\n\t\t\tif (animate) {\n\n\t\t\t\tvar that = this, point = (data.point && data.point.corner==c.corner) ? data.point : flipMethods._c.call(this, c.corner, 1);\n\n\t\t\t\tthis.animatef({from: [point.x, point.y], to:[c.x, c.y], duration: 500, frame: function(v) {\n\t\t\t\t\tc.x = Math.round(v[0]);\n\t\t\t\t\tc.y = Math.round(v[1]);\n\t\t\t\t\tflipMethods._fold.call(that, c);\n\t\t\t\t}});\n\n\t\t\t} else\t{\n\n\t\t\t\tflipMethods._fold.call(this, c);\n\t\t\t\tif (dd.effect && !dd.effect.turning)\n\t\t\t\t\tthis.animatef(false);\n\n\t\t\t}\n\n\t\t\tif (!data.fwrapper.is(':visible')) {\n\t\t\t\tdata.fparent.show().data().flips++;\n\t\t\t\tflipMethods._moveFoldingPage.call(this, true);\n\t\t\t\tdata.fwrapper.show();\n\n\t\t\t\tif (data.bshadow)\n\t\t\t\t\tdata.bshadow.show();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\thide: function() {\n\n\t\tvar data = this.data().f,\n\t\t\tfolding = flipMethods._foldingPage.call(this);\n\n\t\tif ((--data.fparent.data().flips)===0)\n\t\t\tdata.fparent.hide();\n\n\t\tthis.css({left: 0, top: 0, right: 'auto', bottom: 'auto'}).transform('', '0% 100%');\n\n\t\tdata.wrapper.transform('', '0% 100%');\n\n\t\tdata.fwrapper.hide();\n\n\t\tif (data.bshadow)\n\t\t\tdata.bshadow.hide();\n\n\t\tfolding.transform('', '0% 0%');\n\n\t\treturn this;\n\t},\n\n\thideFoldedPage: function(animate) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.point) return;\n\n\t\tvar that = this,\n\t\t\tp1 = data.point,\n\t\t\thide = function() {\n\t\t\t\tdata.point = null;\n\t\t\t\tthat.flip('hide');\n\t\t\t\tthat.trigger('end', [false]);\n\t\t\t};\n\n\t\tif (animate) {\n\t\t\tvar p4 = flipMethods._c.call(this, p1.corner),\n\t\t\t\ttop = (p1.corner.substr(0,1)=='t'),\n\t\t\t\tdelta = (top) ? Math.min(0, p1.y-p4.y)/2 : Math.max(0, p1.y-p4.y)/2,\n\t\t\t\tp2 = point2D(p1.x, p1.y+delta),\n\t\t\t\tp3 = point2D(p4.x, p4.y-delta);\n\n\t\t\tthis.animatef({\n\t\t\t\tfrom: 0,\n\t\t\t\tto: 1,\n\t\t\t\tframe: function(v) {\n\t\t\t\t\tvar np = bezier(p1, p2, p3, p4, v);\n\t\t\t\t\tp1.x = np.x;\n\t\t\t\t\tp1.y = np.y;\n\t\t\t\t\tflipMethods._fold.call(that, p1);\n\t\t\t\t},\n\t\t\t\tcomplete: hide,\n\t\t\t\tduration: 800,\n\t\t\t\thiding: true\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.animatef(false);\n\t\t\thide();\n\t\t}\n\t},\n\n\tturnPage: function(corner) {\n\n\t\tvar that = this,\n\t\t\tdata = this.data().f;\n\n\t\tcorner = {corner: (data.corner) ? data.corner.corner : corner || flipMethods._cAllowed.call(this)[0]};\n\n\t\tvar p1 = data.point || flipMethods._c.call(this, corner.corner, (data.opts.turn) ? data.opts.turn.data().opts.elevation : 0),\n\t\t\tp4 = flipMethods._c2.call(this, corner.corner);\n\n\t\t\tthis.trigger('flip').\n\t\t\t\tanimatef({\n\t\t\t\t\tfrom: 0,\n\t\t\t\t\tto: 1,\n\t\t\t\t\tframe: function(v) {\n\t\t\t\t\t\tvar np = bezier(p1, p1, p4, p4, v);\n\t\t\t\t\t\tcorner.x = np.x;\n\t\t\t\t\t\tcorner.y = np.y;\n\t\t\t\t\t\tflipMethods._showFoldedPage.call(that, corner);\n\t\t\t\t\t},\n\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tthat.trigger('end', [true]);\n\t\t\t\t\t},\n\t\t\t\t\tduration: data.opts.duration,\n\t\t\t\t\tturning: true\n\t\t\t\t});\n\n\t\t\tdata.corner = null;\n\t},\n\n\tmoving: function() {\n\n\t\treturn 'effect' in this.data();\n\n\t},\n\n\tisTurning: function() {\n\n\t\treturn this.flip('moving') && this.data().effect.turning;\n\n\t},\n\n\t_eventStart: function(e) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled && !this.flip('isTurning')) {\n\t\t\tdata.corner = flipMethods._cornerActivated.call(this, e);\n\t\t\tif (data.corner && flipMethods._foldingPage.call(this, data.corner)) {\n\t\t\t\tflipMethods._moveFoldingPage.call(this, true);\n\t\t\t\tthis.trigger('pressed', [data.point]);\n\t\t\t\treturn false;\n\t\t\t} else\n\t\t\t\tdata.corner = null;\n\t\t}\n\n\t},\n\n\t_eventMove: function(e) {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled) {\n\t\t\te = (isTouch) ? e.originalEvent.touches : [e];\n\n\t\t\tif (data.corner) {\n\n\t\t\t\tvar pos = data.parent.offset();\n\n\t\t\t\tdata.corner.x = e[0].pageX-pos.left;\n\t\t\t\tdata.corner.y = e[0].pageY-pos.top;\n\n\t\t\t\tflipMethods._showFoldedPage.call(this, data.corner);\n\n\t\t\t} else if (!this.data().effect && this.is(':visible')) { // roll over\n\n\t\t\t\tvar corner = flipMethods._cornerActivated.call(this, e[0]);\n\t\t\t\tif (corner) {\n\t\t\t\t\tvar origin = flipMethods._c.call(this, corner.corner, data.opts.cornerSize/2);\n\t\t\t\t\tcorner.x = origin.x;\n\t\t\t\t\tcorner.y = origin.y;\n\t\t\t\t\tflipMethods._showFoldedPage.call(this, corner, true);\n\t\t\t\t} else\n\t\t\t\t\tflipMethods.hideFoldedPage.call(this, true);\n\n\t\t\t}\n\t\t}\n\t},\n\n\t_eventEnd: function() {\n\n\t\tvar data = this.data().f;\n\n\t\tif (!data.disabled && data.point) {\n\t\t\tvar event = $.Event('released');\n\t\t\tthis.trigger(event, [data.point]);\n\t\t\tif (!event.isDefaultPrevented())\n\t\t\t\tflipMethods.hideFoldedPage.call(this, true);\n\t\t}\n\n\t\tdata.corner = null;\n\n\t},\n\n\tdisable: function(disable) {\n\n\t\tflipMethods.setData.call(this, {'disabled': disable});\n\t\treturn this;\n\n\t}\n},\n\ncla = function(that, methods, args) {\n\n\tif (!args[0] || typeof(args[0])=='object')\n\t\treturn methods.init.apply(that, args);\n\telse if(methods[args[0]] && args[0].toString().substr(0, 1)!='_')\n\t\treturn methods[args[0]].apply(that, Array.prototype.slice.call(args, 1));\n\telse\n\t\tthrow args[0] + ' is an invalid value';\n};\n\n$.extend($.fn, {\n\n\tflip: function(req, opts) {\n\t\treturn cla(this, flipMethods, arguments);\n\t},\n\n\tturn: function(req) {\n\t\treturn cla(this, turnMethods, arguments);\n\t},\n\n\ttransform: function(transform, origin) {\n\n\t\tvar properties = {};\n\n\t\tif (origin)\n\t\t\tproperties[vendor+'transform-origin'] = origin;\n\n\t\tproperties[vendor+'transform'] = transform;\n\n\t\treturn this.css(properties);\n\n\t},\n\n\tanimatef: function(point) {\n\n\t\tvar data = this.data();\n\n\t\tif (data.effect)\n\t\t\tclearInterval(data.effect.handle);\n\n\t\tif (point) {\n\n\t\t\tif (!point.to.length) point.to = [point.to];\n\t\t\tif (!point.from.length) point.from = [point.from];\n\t\t\tif (!point.easing) point.easing = function (x, t, b, c, data) { return c * Math.sqrt(1 - (t=t/data-1)*t) + b; };\n\n\t\t\tvar j, diff = [],\n\t\t\t\tlen = point.to.length,\n\t\t\t\tthat = this,\n\t\t\t\tfps = point.fps || 30,\n\t\t\t\ttime = - fps,\n\t\t\t\tf = function() {\n\t\t\t\t\tvar j, v = [];\n\t\t\t\t\ttime = Math.min(point.duration, time + fps);\n\n\t\t\t\t\tfor (j = 0; j < len; j++)\n\t\t\t\t\t\tv.push(point.easing(1, time, point.from[j], diff[j], point.duration));\n\n\t\t\t\t\tpoint.frame((len==1) ? v[0] : v);\n\n\t\t\t\t\tif (time==point.duration) {\n\t\t\t\t\t\tclearInterval(data.effect.handle);\n\t\t\t\t\t\tdelete data['effect'];\n\t\t\t\t\t\tthat.data(data);\n\t\t\t\t\t\tif (point.complete)\n\t\t\t\t\t\t\tpoint.complete();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\tfor (j = 0; j < len; j++)\n\t\t\t\tdiff.push(point.to[j] - point.from[j]);\n\n\t\t\tdata.effect = point;\n\t\t\tdata.effect.handle = setInterval(f, fps);\n\t\t\tthis.data(data);\n\t\t\tf();\n\t\t} else {\n\t\t\tdelete data['effect'];\n\t\t}\n\t}\n});\n\n\n$.isTouch = isTouch;\n","module.exports = __webpack_public_path__ + \"img/rightPage.de783676.png\";","module.exports = __webpack_public_path__ + \"img/preview_178_sm.337f452e.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=style&index=0&id=018f8ff4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=style&index=0&id=018f8ff4&lang=scss&scoped=true&\""],"sourceRoot":""}