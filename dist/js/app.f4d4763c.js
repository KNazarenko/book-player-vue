(function(e){function t(t){for(var a,o,n=t[0],l=t[1],p=t[2],g=0,f=[];g<n.length;g++)o=n[g],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(f.length)f.shift()();return s.push.apply(s,p||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,n=1;n<i.length;n++){var l=i[n];0!==r[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},r={app:0},s=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var p=0;p<n.length;p++)t(n[p]);var c=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0958":function(e,t,i){"use strict";var a=i("84ac"),r=i.n(a);r.a},"167e":function(e,t,i){"use strict";var a=i("9147"),r=i.n(a);r.a},"4a4d":function(e,t,i){e.exports=i.p+"img/background-shape.20ad139c.png"},5033:function(e){e.exports=JSON.parse('[{"id":"London","title":"London","about":"London is the capital and largest city of England and the United Kingdom. Standing on the River Thames in the south-east of England, at the head of its 50-mile (80 km) estuary leading to the North Sea, London has been a major settlement for two millennia. Londinium was founded by the Romans.","pageWidth":300,"pageHeight":300,"pages":["//stock1.flexilivre.com/files/8/7485/preview_453365/frontCover.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page1.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page2.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page3.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page4.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page5.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page6.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page7.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page8.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page9.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page10.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page11.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page12.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page13.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page14.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page15.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page16.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page17.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page18.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page19.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page20.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page21.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page22.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page23.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/page24.jpg?version=6","//stock1.flexilivre.com/files/8/7485/preview_453365/endCover.jpg?version=6"]},{"id":"NewYork","title":"New York","about":"New York City (NYC), often called the City of New York or simply New York (NY), is the most populous city in the United States. With an estimated 2018 population of 8,398,748 distributed over about 302.6 square miles (784 km2), New York is also the most densely populated major city in the United States.","pageWidth":210,"pageHeight":210,"pages":["//stock1.flexilivre.com/files/8/7485/preview_119004/frontCover.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page1.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page2.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page3.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page4.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page5.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page6.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page7.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page8.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page9.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page10.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page11.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page12.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page13.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page14.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page15.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page16.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page17.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page18.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page19.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page20.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page21.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page22.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page23.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/page24.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_119004/endCover.jpg?version=7"]},{"id":"Paris","title":"Paris","about":"Paris is the capital and most populous city of France, with a population of 2,148,271 residents (official estimate, 1 January 2020) in an area of 105 square kilometres (41 square miles). Since the 17th century, Paris has been one of Europe\'s major centres of finance, diplomacy, commerce, fashion, science and arts.","pageWidth":300,"pageHeight":300,"pages":["//stock1.flexilivre.com/files/8/7485/preview_453373/frontCover.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page1.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page2.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page3.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page4.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page5.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page6.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page7.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page8.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page9.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page10.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page11.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page12.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page13.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page14.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page15.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page16.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page17.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page18.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page19.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page20.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page21.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page22.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page23.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/page24.jpg?version=8","//stock1.flexilivre.com/files/8/7485/preview_453373/endCover.jpg?version=8"]},{"id":"Rome","title":"Rome","about":"Rome is the capital city and a special comune of Italy (named Comune di Roma Capitale). Rome also serves as the capital of the Lazio region. With 2,879,728 residents in 1,285 km2 (496.1 sq mi), it is also the country\'s most populated comune. It is the third most populous city in the European Union by population within city limits.","pageWidth":300,"pageHeight":300,"pages":["//stock1.flexilivre.com/files/8/7485/preview_221705/frontCover.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page1.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page2.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page3.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page4.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page5.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page6.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page7.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page8.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page9.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page10.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page11.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page12.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page13.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page14.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page15.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page16.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page17.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page18.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page19.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page20.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page21.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page22.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page23.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/page24.jpg?version=7","//stock1.flexilivre.com/files/8/7485/preview_221705/endCover.jpg?version=7"]}]')},"512f":function(e,t,i){e.exports=i.p+"img/preview_100_sm.21209b41.png"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fragment",[i("div",{staticClass:"row mt-5"},[i("div",{staticClass:"col-12 col-md-7"},[i("BookPlayer",{key:e.keyId,attrs:{bookData:e.currentBook,rootSelector:e.selector}})],1),i("div",{staticClass:"col-12 col-md-5 mt-3 mt-md-0"},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title cardTitle"},[e._v("Card title")]),i("p",{staticClass:"card-text cardText"},[e._v(" Some quick example text. ")])])])]),i("div",{staticClass:"row mt-5"},[i("Covers")],1)])},s=[],o=(i("4de4"),i("3f08")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bookContainer",class:{fullscreen:e.fullscreenMode}},[a("Arrow",{directives:[{name:"show",rawName:"v-show",value:this.data.pages,expression:"this.data.pages"}],style:e.leftArrowStyles,attrs:{direction:"left",click:e.onPrevious}}),a("img",{staticClass:"bookBackground",style:e.coverStyles,attrs:{src:i("4a4d"),width:e.coverWidth,height:e.coverHeight}}),a("div",{staticClass:"frontBackground",style:e.frontbackgroundStyles}),e.firstPage&&e.lastPage?a("Book",{ref:"bookComponent",style:e.bookStyles,attrs:{first:e.firstPage,last:e.lastPage,pages:e.restPages,onShow:e.onShowFullScreenBtn,onHide:e.onHideFullScreenBtn}}):e._e(),a("Arrow",{directives:[{name:"show",rawName:"v-show",value:this.data.pages,expression:"this.data.pages"}],style:e.rightArrowStyles,attrs:{direction:"right",click:e.onNext}}),a("div",{staticClass:"fullScreenBtn",class:{visible:e.showFullscreenBtn},style:e.fullscreenBtnStyles,on:{click:e.toggleFullScreen}},[e._v(" Fullscreen ")]),a("div",{staticClass:"offFullscreenBtn",style:e.offFullscreenBtnStyles},[a("div",{staticClass:"quitBtn",on:{click:e.toggleFullScreen}},[e._v("Exit")])])],1)},l=[],p=(i("99af"),i("7db0"),i("fb6a"),i("5530")),c=i("1157"),g=i.n(c),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.pages,expression:"pages"}],staticClass:"book",on:{mouseover:e.onShow,mouseout:e.onHide}},[i("Page",{ref:e.first,staticClass:"hard",attrs:{page:e.first}}),e._m(0),e._l(e.pages,(function(e,t){return i("Page",{key:t,ref:e,refInFor:!0,attrs:{page:e,index:t}})})),e._m(1),i("Page",{ref:e.last,staticClass:"hard",attrs:{page:e.last}})],2)},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hard"},[a("img",{attrs:{src:i("a192")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hard"},[a("img",{attrs:{src:i("9d35")}})])}],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page",attrs:{"data-src":e.page}},[a("img",{staticClass:"image-container"}),e.index&&e.index%2?a("img",{attrs:{src:i("a2a9")}}):e.index?a("img",{attrs:{src:i("a659")}}):e._e(),a("ProgressBar",{directives:[{name:"show",rawName:"v-show",value:!e.isLaoded,expression:"!isLaoded"}],attrs:{percentage:e.percentage}})],1)},u=[],v=(i("a9e3"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"progress-bar"},[i("div",{staticClass:"loading-bar"},[i("div",{staticClass:"percentage",style:{width:e.percentage+"%"}})])])}),m=[],w={name:"ProgressBar",props:["percentage"]},b=w,x=(i("93af"),i("2877")),k=Object(x["a"])(b,v,m,!1,null,"029737b4",null),_=k.exports,y={name:"Page",components:{ProgressBar:_},props:{page:{type:String,required:!0},index:{type:Number,required:!1}},data:function(){return{percentage:0,isLaoded:!1,xhr:null}},methods:{onLoad:function(){var e=this.page,t=document.querySelector('[data-src="'.concat(this.page,'"]')).querySelector(".image-container");this.loadImage(e).then((function(e){t.src=e})).catch((function(e){return console.log(e)}))},loadImage:function(e){var t=this;return new Promise((function(i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.send(),t.xhr=a,a.onprogress=function(e){t.percentage=parseInt(e.loaded/e.total*100)},a.onload=function(){t.percentage=100;var e=new Blob([a.response]);i(window.URL.createObjectURL(e)),t.isLaoded=!0,t.$root.$emit("page-loaded",t.page)},a.onerror=function(e){console.log("Page ",t.page," is faild!",e)},a.onabort=function(){t.index||0==t.index||console.log("Page first/last is aborted!"),t.$root.$emit("page-aborted",t.page)}}))},onAbort:function(){this.xhr.abort()}}},P=y,j=(i("0958"),Object(x["a"])(P,d,u,!1,null,"64c3d956",null)),M=j.exports,S={name:"Book",components:{Page:M},props:["pages","first","last","onShow","onHide"]},O=S,C=(i("83d4"),Object(x["a"])(O,f,h,!1,null,"c466891a",null)),F=C.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{staticClass:"icon",class:["right"==e.direction?"rightArrow":"leftArrow"],attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 91.5 183","xml:space":"preserve"},on:{click:e.click}},["right"==e.direction?i("path",{staticClass:"st0",attrs:{d:"M0,183c50.5,0,91.5-41,91.5-91.5S50.5,0,0,0"}}):e._e(),"left"==e.direction?i("path",{staticClass:"st0",attrs:{d:"M91.5,183C41,183,0,142,0,91.5C0,41,41,0,91.5,0"}}):e._e(),"right"==e.direction?i("path",{staticClass:"st1",attrs:{d:"M27.5,58l27.9,27.9c1.7,1.7,1.7,4.5,0,6.2L27.5,120"}}):e._e(),"left"==e.direction?i("path",{staticClass:"st1",attrs:{d:"M64,58L36.1,85.9c-1.7,1.7-1.7,4.5,0,6.2L64,120"}}):e._e()])},B=[],L={name:"Arrow",props:["click","direction"]},A=L,q=(i("fe02"),Object(x["a"])(A,W,B,!1,null,"018f8ff4",null)),E=q.exports;i("a4e4");var z={name:"BookPlayer",components:{Book:F,Arrow:E},props:["bookData","rootSelector"],data:function(){return{selector:null,backgroundRatio:1.044,percent:.95,data:{},queue:[],loading:null,loaded:[],showFullscreenBtn:!1,isFirstPage:!1,isLastPage:!1,bookWidth:null,bookHeight:null,fullscreenMode:!1,arrowOriginalWidth:50,arrowWidth:50,isMobileMode:!1}},computed:{bookOriginalWidth:function(){return this.data.pages?2*this.data.pageWidth:null},firstPage:function(){return this.data.pages?this.data.pages[0]:null},lastPage:function(){return this.data.pages?this.data.pages[this.data.pages.length-1]:null},restPages:function(){return this.data.pages?this.data.pages.slice(1,-1):null},coverWidth:function(){return this.bookWidth*this.backgroundRatio},coverHeight:function(){return this.bookHeight*this.backgroundRatio},arrowShift:function(){var e=(this.coverWidth-this.bookWidth)/2;return e+"px"},frontbackgroundStyles:function(){var e={width:this.bookWidth/2+"px",height:this.bookHeight+"px",display:this.isFirstPage||this.isLastPage?"block":"none"};return e},leftArrowStyles:function(){var e=this.arrowWidth+"px",t={width:e,right:this.arrowShift},i={width:e};return i=this.isLastPage?Object(p["a"])({},i,{left:this.bookShift}):Object(p["a"])({},i,{display:"none"}),this.isFirstPage||this.isLastPage?i:t},rightArrowStyles:function(){var e=this.arrowWidth+"px",t={width:e,left:this.arrowShift},i={width:e};return i=this.isFirstPage?Object(p["a"])({},i,{right:this.bookShift}):Object(p["a"])({},i,{display:"none"}),this.isFirstPage||this.isLastPage?i:t},bookShift:function(){var e=this.bookWidth/4-this.arrowWidth/2;return e+"px"},bookStyles:function(){var e={border:"solid 1px rgba(0, 0, 0, 0.05)"},t={};return this.isFirstPage?t={transform:"translate(-".concat(this.bookShift,")")}:this.isLastPage&&(t={transform:"translate(".concat(this.bookShift,")")}),this.fullscreenMode||(e=Object(p["a"])({},e,{boxShadow:"rgb(179, 178, 178) 1px 4px 6px 0px"})),this.isFirstPage||this.isLastPage?t:e},coverStyles:function(){var e={opacity:1},t={};return t=this.isFirstPage?{transform:"translate(-".concat(this.bookShift,")"),opacity:0}:{transform:"translate(".concat(this.bookShift,")"),opacity:0},this.isFirstPage||this.isLastPage?t:e},fullscreenBtnStyles:function(){return this.isMobileMode?{display:"none"}:{display:this.fullscreenMode?"none":"block"}},offFullscreenBtnStyles:function(){return this.isMobileMode?{display:"none"}:{display:this.fullscreenMode?"block":"none"}},container:function(){return g()("".concat(this.selector))},book:function(){return g()(".book")},arrow:function(){return g()(".icon")}},methods:{initApp:function(e,t,i){var a=this;this.selector=t,this.data=e,this.bookWidth=e.pageWidth,this.bookHeight=e.pageHeight,this.queue=e.pages,this.$nextTick((function(){a.createDoubleBook(),(a.isMobile()||a.isTablet())&&(a.isMobileMode=!0),a.onResizeBook()})),i&&i()},onPrevious:function(){this.book.turn("previous")},onNext:function(){this.book.turn("next")},onShowFullScreenBtn:function(){this.showFullscreenBtn=!0},onHideFullScreenBtn:function(){this.showFullscreenBtn=!1},toggleFullScreen:function(){var e=document.fullscreenElement||document.webkitFullscreenElement;e?this.exitFullScreen():this.enterFullScreen()},enterFullScreen:function(){var e=this.container[0];e.requestFullscreen?(e.requestFullscreen(),this.fullscreenMode=!0):e.webkitRequestFullscreen&&(e.webkitRequestFullscreen(),this.fullscreenMode=!0)},exitFullScreen:function(){document.exitFullscreen?(document.exitFullscreen(),this.fullscreenMode=!1):document.webkitExitFullscreen&&(document.webkitExitFullscreen(),this.fullscreenMode=!1)},createDoubleBook:function(){g()(".book").turn({width:this.bookOriginalWidth,height:this.data.pageHeight,display:"double",when:{turning:this.turningEventListener.bind(this),turned:this.turnedEventListener.bind(this)}})},onResizeBook:function(){if(this.container[0]){var e,t=this.bookOriginalWidth,i=this.data.pageHeight,a=this.arrowOriginalWidth,r=this.container[0].clientWidth,s=t+2*a;e=r*this.percent/s,this.book.turn("size",t*e,i*e),this.bookWidth=t*e,this.bookHeight=i*e,this.arrowWidth=a*e}},turningEventListener:function(e,t){1==t?this.isFirstPage=!0:t==this.restPages.length+4?this.isLastPage=!0:(this.isFirstPage=!1,this.isLastPage=!1)},turnedEventListener:function(e,t){if(this.queue.length){var i,a,r,s,o=[];t%2==0?(r=t,s=t+1):(r=t-1,s=t);var n=e.target.querySelector('[page="'.concat(r,'"]'));if(n){var l=n.querySelector("[data-src]");l&&(i=l.dataset.src)}i&&!this.isLoaded(i)&&(this.loading&&this.abortLoading(),o.push(i));var p=e.target.querySelector('[page="'.concat(s,'"]'));if(p){var c=p.querySelector("[data-src]");c&&(a=c.dataset.src)}a&&!this.isLoaded(a)&&(this.loading&&this.abortLoading(),o.push(a)),o.length?(this.onChangeQueue(o),this.downloadImage()):(this.loading&&this.abortLoading(),this.downloadImage())}},isLoaded:function(e){return this.loaded.find((function(t){return t==e}))},abortLoading:function(){var e,t=this.loading,i=this.$refs.bookComponent.$refs;for(var a in i)if(i[a].length){if(i[a][0].page==t){e=i[a];break}}else if(i[a].page==t){e=i[a];break}e&&(e.length?e[0].onAbort():e.onAbort())},onChangeQueue:function(e){var t=this.queue.filter((function(t){return t!=e[0]&&t!=e[1]}));this.queue=e.concat(t)},downloadImage:function(){var e=this.queue[0],t=this.book[0].querySelector('[data-src="'.concat(e,'"]'));if(t){var i,a=this.$refs.bookComponent.$refs;for(var r in a)if(a[r].length){if(a[r][0].page==e){i=a[r];break}}else if(a[r].page==e){i=a[r];break}i&&(i.length?(this.loading=e,i[0].onLoad()):(this.loading=e,i.onLoad()))}},onDelete:function(e){var t=this.queue.filter((function(t){return t!=e}));this.queue=t,this.loading=null},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isTablet:function(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent.toLowerCase())}},created:function(){var e=this;this.$root.$on("page-loaded",(function(t){e.loaded.push(t),e.onDelete(t),e.queue.length&&e.downloadImage()})),this.$root.$on("page-aborted",(function(){e.loading=null}))},mounted:function(){var e=this;this.$nextTick((function(){e.bookData&&e.initApp(e.bookData,e.rootSelector)})),window.addEventListener("resize",(function(){var t=document.fullscreenElement||document.webkitFullscreenElement;t||(e.fullscreenMode=!1),e.onResizeBook()})),document.addEventListener("fullscreenchange",(function(){(e.isMobile()||e.isTablet())&&(console.log("onfullscreenchange"),e.onResizeBook())}))}},T=z,D=(i("9673"),Object(x["a"])(T,n,l,!1,null,"296ef4be",null)),$=D.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fragment",[a("div",{staticClass:"col-6 col-md-3"},[a("img",{staticClass:"image",attrs:{title:"London",src:i("512f"),alt:"Album photo London"},on:{click:function(t){return e.changeBook("London")}}})]),a("div",{staticClass:"col-6 col-md-3"},[a("img",{staticClass:"image",attrs:{title:"New York",src:i("57ab"),alt:"Album photo New York"},on:{click:function(t){return e.changeBook("NewYork")}}})]),a("div",{staticClass:"col-6 col-md-3"},[a("img",{staticClass:"image",attrs:{title:"Paris",src:i("8acc"),alt:"Album photo Paris"},on:{click:function(t){return e.changeBook("Paris")}}})]),a("div",{staticClass:"col-6 col-md-3"},[a("img",{staticClass:"image",attrs:{title:"Rome",src:i("de3a"),alt:"Album photo Rome"},on:{click:function(t){return e.changeBook("Rome")}}})])])},R=[],H={components:{Fragment:o["a"]},methods:{changeBook:function(e){this.$root.$emit("change-book",e)}}},N=H,G=(i("167e"),Object(x["a"])(N,I,R,!1,null,"16dceccc",null)),Y=G.exports,Z={name:"App",components:{Fragment:o["a"],BookPlayer:$,Covers:Y},data:function(){return{allBooksData:[],selector:null,currentBook:null,keyId:null}},computed:{},methods:{initApp:function(e,t){this.allBooksData=e,this.selector=t,this.currentBook=e[0],this.keyId=e[0].id,this.setInfo()},changeBook:function(e){var t=this.allBooksData.filter((function(t){return t.id===e}))[0];this.currentBook=t,this.keyId=t.id,this.setInfo()},setInfo:function(){var e=document.querySelector(".cardTitle");e.innerHTML=this.currentBook.title;var t=document.querySelector(".cardText");t.innerHTML=this.currentBook.about}},created:function(){var e=this;this.$root.$on("change-book",(function(t){e.changeBook(t)}))},mounted:function(){}},U=Z,V=Object(x["a"])(U,r,s,!1,null,"3173b17a",null),J=V.exports,K=i("5033");a["a"].config.productionTip=!1;var X,Q=K;Q?(X=new a["a"]({render:function(e){return e(J)}}).$mount(".bookContainer"),X.$children[0].initApp(Q,".bookContainer"),console.log(X)):console.log("There is no data")},"57ab":function(e,t,i){e.exports=i.p+"img/preview_105_sm.ea78cbeb.png"},"6c36":function(e,t,i){},"7d53":function(e,t,i){},"83d4":function(e,t,i){"use strict";var a=i("d43b"),r=i.n(a);r.a},"84ac":function(e,t,i){},"8acc":function(e,t,i){e.exports=i.p+"img/preview_158_sm.810465a3.png"},9147:function(e,t,i){},"93af":function(e,t,i){"use strict";var a=i("6c36"),r=i.n(a);r.a},9673:function(e,t,i){"use strict";var a=i("f15f"),r=i.n(a);r.a},"9d35":function(e,t,i){e.exports=i.p+"img/right-empty.f33d7d9a.jpg"},a192:function(e,t,i){e.exports=i.p+"img/left-empty.ac27f5e8.jpg"},a2a9:function(e,t,i){e.exports=i.p+"img/leftPage.dd138ffe.png"},a4e4:function(e,t,i){i("a15b"),i("fb6a"),i("a434"),i("d3b7"),i("25f0");var a,r=i("7037"),s=i("1157"),o="",n=Math.PI,l=n/2,p="ontouchstart"in window,c=p?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},g={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br"]},f=["single","double"],h={page:1,gradients:!0,duration:600,acceleration:!0,display:"double",when:null},d={folding:null,corners:"forward",cornerSize:100,gradients:!0,duration:600,acceleration:!0},u=6,v={0:{top:0,left:0,right:"auto",bottom:"auto"},1:{top:0,right:0,left:"auto",bottom:"auto"}},m=function(e,t,i,a){return{css:{position:"absolute",top:e,left:t,overflow:a||"hidden","z-index":i||"auto"}}},w=function(e,t,i,a,r){var s=1-r,o=s*s*s,n=r*r*r;return x(Math.round(o*e.x+3*r*s*s*t.x+3*r*r*s*i.x+n*a.x),Math.round(o*e.y+3*r*s*s*t.y+3*r*r*s*i.y+n*a.y))},b=function(e){return e/n*180},x=function(e,t){return{x:e,y:t}},k=function(e,t,i){return a&&i?" translate3d("+e+"px,"+t+"px, 0px) ":" translate("+e+"px, "+t+"px) "},_=function(e){return" rotate("+e+"deg) "},y=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},P=function(){var e=["Moz","Webkit","Khtml","O","ms"],t=e.length,i="";while(t--)e[t]+"Transform"in document.body.style&&(i="-"+e[t].toLowerCase()+"-");return i},j=function(e,t,i,a,r){var s,n=[];if("-webkit-"==o){for(s=0;s<r;s++)n.push("color-stop("+a[s][0]+", "+a[s][1]+")");e.css({"background-image":"-webkit-gradient(linear, "+t.x+"% "+t.y+"%,  "+i.x+"% "+i.y+"%, "+n.join(",")+" )"})}else{t={x:t.x/100*e.width(),y:t.y/100*e.height()},i={x:i.x/100*e.width(),y:i.y/100*e.height()};var l=i.x-t.x,p=i.y-t.y,c=Math.atan2(p,l),g=c-Math.PI/2,f=Math.abs(e.width()*Math.sin(g))+Math.abs(e.height()*Math.cos(g)),h=Math.sqrt(p*p+l*l),d=x(i.x<t.x?e.width():0,i.y<t.y?e.height():0),u=Math.tan(c),v=-1/u,m=(v*d.x-d.y-u*t.x+t.y)/(v-u),w={x:m,y:v*m-v*d.x+d.y},b=Math.sqrt(Math.pow(w.x-t.x,2)+Math.pow(w.y-t.y,2));for(s=0;s<r;s++)n.push(" "+a[s][1]+" "+100*(b+h*a[s][0])/f+"%");e.css({"background-image":o+"linear-gradient("+-c+"rad,"+n.join(",")+")"})}},M={init:function(e){void 0===a&&(a="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,o=P());var t,i=this.data(),r=this.children();if(e=s.extend({width:this.width(),height:this.height()},h,e),i.opts=e,i.pageObjs={},i.pages={},i.pageWrap={},i.pagePlace={},i.pageMv=[],i.totalPages=e.pages||0,e.when)for(t in e.when)y(t,e.when)&&this.bind(t,e.when[t]);for(this.css({position:"relative",width:e.width,height:e.height}),this.turn("display",e.display),a&&!p&&e.acceleration&&this.transform(k(0,0,!0)),t=0;t<r.length;t++)this.turn("addPage",r[t],t+1);return this.turn("page",e.page),g=s.extend({},g,e.corners),s(this).bind(c.start,(function(e){for(var t in i.pages)if(y(t,i.pages)&&!1===S._eventStart.call(i.pages[t],e))return!1})),s(document).bind(c.move,(function(e){for(var t in i.pages)y(t,i.pages)&&S._eventMove.call(i.pages[t],e)})).bind(c.end,(function(e){for(var t in i.pages)y(t,i.pages)&&S._eventEnd.call(i.pages[t],e)})),i.done=!0,this},addPage:function(e,t){var i=!1,a=this.data(),r=a.totalPages+1;if(t){if(t==r)t=r,i=!0;else if(t>r)throw new Error('It is impossible to add the page "'+t+'", the maximum value is: "'+r+'"')}else t=r,i=!0;return t>=1&&t<=r&&(a.done&&this.turn("stop"),t in a.pageObjs&&M._movePages.call(this,t,1),i&&(a.totalPages=r),a.pageObjs[t]=s(e).addClass("turn-page p"+t),M._addPage.call(this,t),a.done&&this.turn("update"),M._removeFromDOM.call(this)),this},_addPage:function(e){var t=this.data(),i=t.pageObjs[e];if(i)if(M._necessPage.call(this,e)){if(!t.pageWrap[e]){var a="double"==t.display?this.width()/2:this.width(),r=this.height();i.css({width:a,height:r}),t.pagePlace[e]=e,t.pageWrap[e]=s("<div/>",{class:"turn-page-wrapper",page:e,css:{position:"absolute",overflow:"hidden",width:a,height:r}}).css(v["double"==t.display?e%2:0]),this.append(t.pageWrap[e]),t.pageWrap[e].prepend(t.pageObjs[e])}e&&1!=M._setPageLoc.call(this,e)||M._makeFlip.call(this,e)}else t.pagePlace[e]=0,t.pageObjs[e]&&t.pageObjs[e].remove()},hasPage:function(e){return e in this.data().pageObjs},_makeFlip:function(e){var t=this.data();if(!t.pages[e]&&t.pagePlace[e]==e){var i="single"==t.display,a=e%2;t.pages[e]=t.pageObjs[e].css({width:i?this.width():this.width()/2,height:this.height()}).flip({page:e,next:i&&e===t.totalPages?e-1:a||i?e+1:e-1,turn:this,duration:t.opts.duration,acceleration:t.opts.acceleration,corners:i?"all":a?"forward":"backward",backGradient:t.opts.gradients,frontGradient:t.opts.gradients}).flip("disable",t.disabled).bind("pressed",M._pressed).bind("released",M._released).bind("start",M._start).bind("end",M._end).bind("flip",M._flip)}return t.pages[e]},_makeRange:function(){this.data();var e,t=this.turn("range");for(e=t[0];e<=t[1];e++)M._addPage.call(this,e)},range:function(e){var t,i,a,r=this.data();e=e||r.tpage||r.page;var s=M._view.call(this,e);if(e<1||e>r.totalPages)throw new Error('"'+e+'" is not a page for range');return s[1]=s[1]||s[0],s[0]>=1&&s[1]<=r.totalPages?(t=Math.floor((u-2)/2),r.totalPages-s[1]>s[0]?(i=Math.min(s[0]-1,t),a=2*t-i):(a=Math.min(r.totalPages-s[1],t),i=2*t-a)):(i=u-1,a=u-1),[Math.max(1,s[0]-i),Math.min(r.totalPages,s[1]+a)]},_necessPage:function(e){if(0===e)return!0;var t=this.turn("range");return e>=t[0]&&e<=t[1]},_removeFromDOM:function(){var e,t=this.data();for(e in t.pageWrap)y(e,t.pageWrap)&&!M._necessPage.call(this,e)&&M._removePageFromDOM.call(this,e)},_removePageFromDOM:function(e){var t=this.data();if(t.pages[e]){var i=t.pages[e].data();i.f&&i.f.fwrapper&&i.f.fwrapper.remove(),t.pages[e].remove(),delete t.pages[e]}t.pageObjs[e]&&t.pageObjs[e].remove(),t.pageWrap[e]&&(t.pageWrap[e].remove(),delete t.pageWrap[e]),delete t.pagePlace[e]},removePage:function(e){var t=this.data();return t.pageObjs[e]&&(this.turn("stop"),M._removePageFromDOM.call(this,e),delete t.pageObjs[e],M._movePages.call(this,e,-1),t.totalPages=t.totalPages-1,M._makeRange.call(this),t.page>t.totalPages&&this.turn("page",t.totalPages)),this},_movePages:function(e,t){var i,a=this.data(),r="single"==a.display,s=function(e){var i=e+t,s=i%2;a.pageObjs[e]&&(a.pageObjs[i]=a.pageObjs[e].removeClass("page"+e).addClass("page"+i)),a.pagePlace[e]&&a.pageWrap[e]&&(a.pagePlace[i]=i,a.pageWrap[i]=a.pageWrap[e].css(v[r?0:s]).attr("page",i),a.pages[e]&&(a.pages[i]=a.pages[e].flip("options",{page:i,next:r||s?i+1:i-1,corners:r?"all":s?"forward":"backward"})),t&&(delete a.pages[e],delete a.pagePlace[e],delete a.pageObjs[e],delete a.pageWrap[e],delete a.pageObjs[e]))};if(t>0)for(i=a.totalPages;i>=e;i--)s(i);else for(i=e;i<=a.totalPages;i++)s(i)},display:function(e){var t=this.data(),i=t.display;if(e){if(-1==s.inArray(e,f))throw new Error('"'+e+'" is not a value for display');if("single"==e?t.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),t.pageObjs[0]=s("<div />",{class:"turn-page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)):t.pageObjs[0]&&(this.turn("stop").css({overflow:""}),t.pageObjs[0].remove(),delete t.pageObjs[0]),t.display=e,i){var a=this.turn("size");M._movePages.call(this,1,0),this.turn("size",a.width,a.height).turn("update")}return this}return i},animating:function(){return this.data().pageMv.length>0},disable:function(e){var t,i=this.data(),a=this.turn("view");for(t in i.disabled=void 0===e||!0===e,i.pages)y(t,i.pages)&&i.pages[t].flip("disable",!!e&&s.inArray(t,a));return this},size:function(e,t){if(e&&t){var i,a=this.data(),r="double"==a.display?e/2:e;for(i in this.css({width:e,height:t}),a.pageObjs[0]&&a.pageObjs[0].css({width:r,height:t}),a.pageWrap)y(i,a.pageWrap)&&(a.pageObjs[i].css({width:r,height:t}),a.pageWrap[i].css({width:r,height:t}),a.pages[i]&&a.pages[i].css({width:r,height:t}));return this.turn("resize"),this}return{width:this.width(),height:this.height()}},resize:function(){var e,t=this.data();for(t.pages[0]&&(t.pageWrap[0].css({left:-this.width()}),t.pages[0].flip("resize",!0)),e=1;e<=t.totalPages;e++)t.pages[e]&&t.pages[e].flip("resize",!0)},_removeMv:function(e){var t,i=this.data();for(t=0;t<i.pageMv.length;t++)if(i.pageMv[t]==e)return i.pageMv.splice(t,1),!0;return!1},_addMv:function(e){var t=this.data();M._removeMv.call(this,e),t.pageMv.push(e)},_view:function(e){var t=this.data();return e=e||t.page,"double"==t.display?e%2?[e-1,e]:[e,e+1]:[e]},view:function(e){var t=this.data(),i=M._view.call(this,e);return"double"==t.display?[i[0]>0?i[0]:0,i[1]<=t.totalPages?i[1]:0]:[i[0]>0&&i[0]<=t.totalPages?i[0]:0]},stop:function(e){var t,i,a=this.data(),r=a.pageMv;for(t in a.pageMv=[],a.tpage&&(a.page=a.tpage,delete a["tpage"]),r)y(t,r)&&(i=a.pages[r[t]].data().f.opts,S._moveFoldingPage.call(a.pages[r[t]],null),a.pages[r[t]].flip("hideFoldedPage"),a.pagePlace[i.next]=i.next,i.force&&(i.next=i.page%2===0?i.page-1:i.page+1,delete i["force"]));return this.turn("update"),this},pages:function(e){var t=this.data();if(e){if(e<t.totalPages){for(var i=e+1;i<=t.totalPages;i++)this.turn("removePage",i);this.turn("page")>e&&this.turn("page",e)}return t.totalPages=e,this}return t.totalPages},_fitPage:function(e,t){var i=this.data(),a=this.turn("view",e);i.page!=e&&(this.trigger("turning",[e,a]),-1!=s.inArray(1,a)&&this.trigger("first"),-1!=s.inArray(i.totalPages,a)&&this.trigger("last")),i.pageObjs[e]&&(i.tpage=e,this.turn("stop",t),M._removeFromDOM.call(this),M._makeRange.call(this),this.trigger("turned",[e,a]))},_turnPage:function(e){var t,i,a=this.data(),r=this.turn("view"),o=this.turn("view",e);if(a.page!=e&&(this.trigger("turning",[e,o]),-1!=s.inArray(1,o)&&this.trigger("first"),-1!=s.inArray(a.totalPages,o)&&this.trigger("last")),a.pageObjs[e]&&(a.tpage=e,this.turn("stop"),M._makeRange.call(this),"single"==a.display?(t=r[0],i=o[0]):r[1]&&e>r[1]?(t=r[1],i=o[0]):r[0]&&e<r[0]&&(t=r[0],i=o[1]),a.pages[t])){var n=a.pages[t].data().f.opts;a.tpage=i,n.next!=i&&(n.next=i,a.pagePlace[i]=n.page,n.force=!0),"single"==a.display?a.pages[t].flip("turnPage",o[0]>r[0]?"br":"bl"):a.pages[t].flip("turnPage")}},page:function(e){e=parseInt(e,10);var t=this.data();return e>0&&e<=t.totalPages?(t.done&&-1==s.inArray(e,this.turn("view"))?M._turnPage.call(this,e):M._fitPage.call(this,e),this):t.page},next:function(){var e=this.data();return this.turn("page",M._view.call(this,e.page).pop()+1)},previous:function(){var e=this.data();return this.turn("page",M._view.call(this,e.page).shift()-1)},_addMotionPage:function(){var e=s(this).data().f.opts,t=e.turn,i=t.data();e.pageMv=e.page,M._addMv.call(t,e.pageMv),i.pagePlace[e.next]=e.page,t.turn("update")},_start:function(e,t,i){var a=t.turn.data(),r=s.Event("start");if(e.stopPropagation(),t.turn.trigger(r,[t,i]),r.isDefaultPrevented())e.preventDefault();else{if("single"==a.display){var o="l"==i.charAt(1);1==t.page&&o||t.page==a.totalPages&&!o?e.preventDefault():o?(t.next=t.next<t.page?t.next:t.page-1,t.force=!0):t.next=t.next>t.page?t.next:t.page+1}M._addMotionPage.call(this)}},_end:function(e,t){var i=s(this),a=i.data().f,r=a.opts,o=r.turn,n=o.data();e.stopPropagation(),t||n.tpage?n.tpage!=r.next&&n.tpage!=r.page||(delete n["tpage"],M._fitPage.call(o,n.tpage||r.next,!0)):(M._removeMv.call(o,r.pageMv),o.turn("update"))},_pressed:function(){var e,t=s(this),i=t.data().f,a=i.opts.turn,r=a.data().pages;for(e in r)e!=i.opts.page&&r[e].flip("disable",!0);return i.time=(new Date).getTime()},_released:function(e,t){var i=s(this),a=i.data().f;e.stopPropagation(),((new Date).getTime()-a.time<200||t.x<0||t.x>s(this).width())&&(e.preventDefault(),a.opts.turn.data().tpage=a.opts.next,a.opts.turn.turn("update"),s(i).flip("turnPage"))},_flip:function(){var e=s(this).data().f.opts;e.turn.trigger("turn",[e.next])},calculateZ:function(e){var t,i,a,r,s,o=this,n=this.data(),l=this.turn("view"),p=l[0]||l[1],c={pageZ:{},partZ:{},pageV:{}},g=function(e){var t=o.turn("view",e);t[0]&&(c.pageV[t[0]]=!0),t[1]&&(c.pageV[t[1]]=!0)};for(t=0;t<e.length;t++)i=e[t],a=n.pages[i].data().f.opts.next,r=n.pagePlace[i],g(i),g(a),s=n.pagePlace[a]==a?a:i,c.pageZ[s]=n.totalPages-Math.abs(p-s),c.partZ[r]=2*n.totalPages+Math.abs(p-s);return c},update:function(){var e,t=this.data();if(t.pageMv.length&&0!==t.pageMv[0]){var i=this.turn("calculateZ",t.pageMv),a=this.turn("view",t.tpage);for(e in t.pagePlace[a[0]]==a[0]?a[0]:t.pagePlace[a[1]]==a[1]&&a[1],t.pageWrap)y(e,t.pageWrap)&&(t.pageWrap[e].css({display:i.pageV[e]?"":"none","z-index":i.pageZ[e]||0}),t.pages[e]&&(t.pages[e].flip("z",i.partZ[e]||null),i.pageV[e]&&t.pages[e].flip("resize"),t.tpage&&t.pages[e].flip("disable",!0)))}else for(e in t.pageWrap)if(y(e,t.pageWrap)){var r=M._setPageLoc.call(this,e);t.pages[e]&&t.pages[e].flip("disable",t.disabled||1!=r).flip("z",null)}},_setPageLoc:function(e){var t=this.data(),i=this.turn("view");return e==i[0]||e==i[1]?(t.pageWrap[e].css({"z-index":t.totalPages,display:""}),1):"single"==t.display&&e==i[0]+1||"double"==t.display&&e==i[0]-2||e==i[1]+2?(t.pageWrap[e].css({"z-index":t.totalPages-1,display:""}),2):(t.pageWrap[e].css({"z-index":0,display:"none"}),0)}},S={init:function(e){return e.gradients&&(e.frontGradient=!0,e.backGradient=!0),this.data({f:{}}),this.flip("options",e),S._addPageWrapper.call(this),this},setData:function(e){var t=this.data();return t.f=s.extend(t.f,e),this},options:function(e){var t=this.data().f;return e?(S.setData.call(this,{opts:s.extend({},t.opts||d,e)}),this):t.opts},z:function(e){var t=this.data().f;return t.opts["z-index"]=e,t.fwrapper.css({"z-index":e||parseInt(t.parent.css("z-index"),10)||0}),this},_cAllowed:function(){return g[this.data().f.opts.corners]||this.data().f.opts.corners},_cornerActivated:function(e){if(void 0===e.originalEvent)return!1;e=p?e.originalEvent.touches:[e];var t=this.data().f,i=t.parent.offset(),a=this.width(),r=this.height(),o={x:Math.max(0,e[0].pageX-i.left),y:Math.max(0,e[0].pageY-i.top)},n=t.opts.cornerSize,l=S._cAllowed.call(this);if(o.x<=0||o.y<=0||o.x>=a||o.y>=r)return!1;if(o.y<n)o.corner="t";else{if(!(o.y>=r-n))return!1;o.corner="b"}if(o.x<=n)o.corner+="l";else{if(!(o.x>=a-n))return!1;o.corner+="r"}return-1!=s.inArray(o.corner,l)&&o},_c:function(e,t){return t=t||0,{tl:x(t,t),tr:x(this.width()-t,t),bl:x(t,this.height()-t),br:x(this.width()-t,this.height()-t)}[e]},_c2:function(e){return{tl:x(2*this.width(),0),tr:x(-this.width(),0),bl:x(2*this.width(),this.height()),br:x(-this.width(),this.height())}[e]},_foldingPage:function(e){var t=this.data().f.opts;if(t.folding)return t.folding;if(t.turn){var i=t.turn.data();return"single"==i.display?i.pageObjs[t.next]?i.pageObjs[0]:null:i.pageObjs[t.next]}},_backGradient:function(){var e=this.data().f,t=e.opts.turn,i=e.opts.backGradient&&(!t||"single"==t.data().display||2!=e.opts.page&&e.opts.page!=t.data().totalPages-1);return i&&!e.bshadow&&(e.bshadow=s("<div/>",m(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(e.parent)),i},resize:function(e){var t=this.data().f,i=this.width(),a=this.height(),r=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(a,2)));e&&(t.wrapper.css({width:r,height:r}),t.fwrapper.css({width:r,height:r}).children(":first-child").css({width:i,height:a}),t.fpage.css({width:a,height:i}),t.opts.frontGradient&&t.ashadow.css({width:a,height:i}),S._backGradient.call(this)&&t.bshadow.css({width:i,height:a})),t.parent.is(":visible")&&(t.fwrapper.css({top:t.parent.offset().top,left:t.parent.offset().left}),t.opts.turn&&t.fparent.css({top:-t.opts.turn.offset().top,left:-t.opts.turn.offset().left})),this.flip("z",t.opts["z-index"])},_addPageWrapper:function(){var e=this.data().f,t=this.parent();if(!e.wrapper){this.css("left"),this.css("top");var i=this.width(),a=this.height();Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(a,2)));if(e.parent=t,e.fparent=e.opts.turn?e.opts.turn.data().fparent:s("#turn-fwrappers"),!e.fparent){var r=s("<div/>",{css:{"pointer-events":"none"}}).hide();r.data().flips=0,e.opts.turn?(r.css(m(-e.opts.turn.offset().top,-e.opts.turn.offset().left,"auto","visible").css).appendTo(e.opts.turn),e.opts.turn.data().fparent=r):r.css(m(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(s("body")),e.fparent=r}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),e.wrapper=s("<div/>",m(0,0,this.css("z-index"))).appendTo(t).prepend(this),e.fwrapper=s("<div/>",m(t.offset().top,t.offset().left)).hide().appendTo(e.fparent),e.fpage=s("<div/>",{css:{cursor:"default"}}).appendTo(s("<div/>",m(0,0,0,"visible")).appendTo(e.fwrapper)),e.opts.frontGradient&&(e.ashadow=s("<div/>",m(0,0,1)).appendTo(e.fpage)),S.setData.call(this,e),S.resize.call(this,!0)}},_fold:function(e){var t,i,a,r,s,o,p=this,c=0,g=0,f=x(0,0),h=x(0,0),d=x(0,0),u=this.width(),v=this.height(),m=S._foldingPage.call(this),w=(Math.tan(g),this.data().f),y=w.opts.acceleration,P=w.wrapper.height(),M=S._c.call(this,e.corner),O="t"==e.corner.substr(0,1),C="l"==e.corner.substr(1,1),F=function m(){var k,_=x(M.x?M.x-e.x:e.x,M.y?M.y-e.y:e.y),y=Math.atan2(_.y,_.x);g=l-y,c=b(g),k=x(C?u-_.x/2:e.x+_.x/2,_.y/2);var j=g-Math.atan2(k.y,k.x),F=Math.max(0,Math.sin(j)*Math.sqrt(Math.pow(k.x,2)+Math.pow(k.y,2)));if(d=x(F*Math.sin(g),F*Math.cos(g)),g>l&&(d.x=d.x+Math.abs(d.y*Math.tan(y)),d.y=0,Math.round(d.x*Math.tan(n-g))<v))return e.y=Math.sqrt(Math.pow(v,2)+2*k.x*_.x),O&&(e.y=v-e.y),m();if(g>l){var W=n-g,B=P-v/Math.sin(W);f=x(Math.round(B*Math.cos(W)),Math.round(B*Math.sin(W))),C&&(f.x=-f.x),O&&(f.y=-f.y)}t=Math.round(d.y/Math.tan(g)+d.x);var L=u-t,A=L*Math.cos(2*g),q=L*Math.sin(2*g);h=x(Math.round(C?L-A:t+A),Math.round(O?q:v-q)),s=L*Math.sin(g);var E=S._c2.call(p,e.corner),z=Math.sqrt(Math.pow(E.x-e.x,2)+Math.pow(E.y-e.y,2));return o=z<u?z/u:1,w.opts.frontGradient&&(r=s>100?(s-100)/s:0,i=x(s*Math.sin(l-g)/v*100,s*Math.cos(l-g)/u*100),O&&(i.y=100-i.y),C&&(i.x=100-i.x)),S._backGradient.call(p)&&(a=x(s*Math.sin(g)/u*100,s*Math.cos(g)/v*100),C||(a.x=100-a.x),O||(a.y=100-a.y)),d.x=Math.round(d.x),d.y=Math.round(d.y),!0},W=function(e,t,s,n){var l=["0","auto"],c=(u-P)*s[0]/100,d=(v-P)*s[1]/100,m={left:l[t[0]],top:l[t[1]],right:l[t[2]],bottom:l[t[3]]},b=90!=n&&-90!=n?C?-1:1:0;s=s[0]+"% "+s[1]+"%",p.css(m).transform(_(n)+k(e.x+b,e.y,y),s),w.fpage.parent().css(m),w.wrapper.transform(k(-e.x+c-b,-e.y+d,y)+_(-n),s),w.fwrapper.transform(k(-e.x+f.x+c,-e.y+f.y+d,y)+_(-n),s),w.fpage.parent().transform(_(n)+k(e.x+h.x-f.x,e.y+h.y-f.y,y),s),w.opts.frontGradient&&j(w.ashadow,x(C?100:0,O?100:0),x(i.x,i.y),[[r,"rgba(0,0,0,0)"],[.8*(1-r)+r,"rgba(0,0,0,"+.2*o+")"],[1,"rgba(255,255,255,"+.2*o+")"]],3,g),S._backGradient.call(p)&&j(w.bshadow,x(C?0:100,O?0:100),x(a.x,a.y),[[.8,"rgba(0,0,0,0)"],[1,"rgba(0,0,0,"+.3*o+")"],[1,"rgba(0,0,0,0)"]],3)};switch(e.corner){case"tl":e.x=Math.max(e.x,1),F(),W(d,[1,0,0,1],[100,0],c),w.fpage.transform(k(-v,-u,y)+_(90-2*c),"100% 100%"),m.transform(_(90)+k(0,-v,y),"0% 0%");break;case"tr":e.x=Math.min(e.x,u-1),F(),W(x(-d.x,d.y),[0,0,0,1],[0,0],-c),w.fpage.transform(k(0,-u,y)+_(2*c-90),"0% 100%"),m.transform(_(270)+k(-u,0,y),"0% 0%");break;case"bl":e.x=Math.max(e.x,1),F(),W(x(d.x,-d.y),[1,1,0,0],[100,100],-c),w.fpage.transform(k(-v,0,y)+_(2*c-90),"100% 0%"),m.transform(_(270)+k(-u,0,y),"0% 0%");break;case"br":e.x=Math.min(e.x,u-1),F(),W(x(-d.x,-d.y),[0,1,1,0],[0,100],c),w.fpage.transform(_(90-2*c),"0% 0%"),m.transform(_(90)+k(0,-v,y),"0% 0%");break}w.point=e},_moveFoldingPage:function(e){var t=this.data().f,i=S._foldingPage.call(this);i&&(e?t.fpage.children()[t.ashadow?"1":"0"]||(S.setData.call(this,{backParent:i.parent()}),t.fpage.prepend(i)):t.backParent&&t.backParent.prepend(i))},_showFoldedPage:function(e,t){var i=S._foldingPage.call(this),a=this.data(),r=a.f;if(!r.point||r.point.corner!=e.corner){var o=s.Event("start");if(this.trigger(o,[r.opts,e.corner]),o.isDefaultPrevented())return!1}if(i){if(t){var n=this,l=r.point&&r.point.corner==e.corner?r.point:S._c.call(this,e.corner,1);this.animatef({from:[l.x,l.y],to:[e.x,e.y],duration:500,frame:function(t){e.x=Math.round(t[0]),e.y=Math.round(t[1]),S._fold.call(n,e)}})}else S._fold.call(this,e),a.effect&&!a.effect.turning&&this.animatef(!1);return r.fwrapper.is(":visible")||(r.fparent.show().data().flips++,S._moveFoldingPage.call(this,!0),r.fwrapper.show(),r.bshadow&&r.bshadow.show()),!0}return!1},hide:function(){var e=this.data().f,t=S._foldingPage.call(this);return 0===--e.fparent.data().flips&&e.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform("","0% 100%"),e.wrapper.transform("","0% 100%"),e.fwrapper.hide(),e.bshadow&&e.bshadow.hide(),t.transform("","0% 0%"),this},hideFoldedPage:function(e){var t=this.data().f;if(t.point){var i=this,a=t.point,r=function(){t.point=null,i.flip("hide"),i.trigger("end",[!1])};if(e){var s=S._c.call(this,a.corner),o="t"==a.corner.substr(0,1),n=o?Math.min(0,a.y-s.y)/2:Math.max(0,a.y-s.y)/2,l=x(a.x,a.y+n),p=x(s.x,s.y-n);this.animatef({from:0,to:1,frame:function(e){var t=w(a,l,p,s,e);a.x=t.x,a.y=t.y,S._fold.call(i,a)},complete:r,duration:800,hiding:!0})}else this.animatef(!1),r()}},turnPage:function(e){var t=this,i=this.data().f;e={corner:i.corner?i.corner.corner:e||S._cAllowed.call(this)[0]};var a=i.point||S._c.call(this,e.corner,i.opts.turn?i.opts.turn.data().opts.elevation:0),r=S._c2.call(this,e.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(i){var s=w(a,a,r,r,i);e.x=s.x,e.y=s.y,S._showFoldedPage.call(t,e)},complete:function(){t.trigger("end",[!0])},duration:i.opts.duration,turning:!0}),i.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},_eventStart:function(e){var t=this.data().f;if(!t.disabled&&!this.flip("isTurning")){if(t.corner=S._cornerActivated.call(this,e),t.corner&&S._foldingPage.call(this,t.corner))return S._moveFoldingPage.call(this,!0),this.trigger("pressed",[t.point]),!1;t.corner=null}},_eventMove:function(e){var t=this.data().f;if(!t.disabled)if(e=p?e.originalEvent.touches:[e],t.corner){var i=t.parent.offset();t.corner.x=e[0].pageX-i.left,t.corner.y=e[0].pageY-i.top,S._showFoldedPage.call(this,t.corner)}else if(!this.data().effect&&this.is(":visible")){var a=S._cornerActivated.call(this,e[0]);if(a){var r=S._c.call(this,a.corner,t.opts.cornerSize/2);a.x=r.x,a.y=r.y,S._showFoldedPage.call(this,a,!0)}else S.hideFoldedPage.call(this,!0)}},_eventEnd:function(){var e=this.data().f;if(!e.disabled&&e.point){var t=s.Event("released");this.trigger(t,[e.point]),t.isDefaultPrevented()||S.hideFoldedPage.call(this,!0)}e.corner=null},disable:function(e){return S.setData.call(this,{disabled:e}),this}},O=function(e,t,i){if(i[0]&&"object"!=r(i[0])){if(t[i[0]]&&"_"!=i[0].toString().substr(0,1))return t[i[0]].apply(e,Array.prototype.slice.call(i,1));throw i[0]+" is an invalid value"}return t.init.apply(e,i)};s.extend(s.fn,{flip:function(e,t){return O(this,S,arguments)},turn:function(e){return O(this,M,arguments)},transform:function(e,t){var i={};return t&&(i[o+"transform-origin"]=t),i[o+"transform"]=e,this.css(i)},animatef:function(e){var t=this.data();if(t.effect&&clearInterval(t.effect.handle),e){e.to.length||(e.to=[e.to]),e.from.length||(e.from=[e.from]),e.easing||(e.easing=function(e,t,i,a,r){return a*Math.sqrt(1-(t=t/r-1)*t)+i});var i,a=[],r=e.to.length,s=this,o=e.fps||30,n=-o,l=function(){var i,l=[];for(n=Math.min(e.duration,n+o),i=0;i<r;i++)l.push(e.easing(1,n,e.from[i],a[i],e.duration));e.frame(1==r?l[0]:l),n==e.duration&&(clearInterval(t.effect.handle),delete t["effect"],s.data(t),e.complete&&e.complete())};for(i=0;i<r;i++)a.push(e.to[i]-e.from[i]);t.effect=e,t.effect.handle=setInterval(l,o),this.data(t),l()}else delete t["effect"]}}),s.isTouch=p},a659:function(e,t,i){e.exports=i.p+"img/rightPage.de783676.png"},d43b:function(e,t,i){},de3a:function(e,t,i){e.exports=i.p+"img/preview_178_sm.337f452e.png"},f15f:function(e,t,i){},fe02:function(e,t,i){"use strict";var a=i("7d53"),r=i.n(a);r.a}});
//# sourceMappingURL=app.f4d4763c.js.map